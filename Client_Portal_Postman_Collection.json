{
	"info": {
		"_postman_id": "12345678-1234-1234-1234-123456789012",
		"name": "Client Portal Mobile App API",
		"description": "Complete API collection for Client Portal Mobile App authentication and profile management. Includes both Client Portal login (role=7) and Admin Portal login (roles=1,12,13,16) for WebSocket messaging support.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "1. Login",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"viplucmca@yahoo.co.in\",\n    \"password\": \"12345678\",\n    \"device_name\": \"flutter-client-portal\",\n    \"device_token\": \"device_token_here\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"login"
					]
				},
				"description": "Login with email and password to get authentication token"
			},
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    const responseJson = pm.response.json();",
							"    if (responseJson.success && responseJson.data) {",
							"        pm.collectionVariables.set('auth_token', responseJson.data.token);",
							"        pm.collectionVariables.set('refresh_token', responseJson.data.refresh_token);",
							"        console.log('Tokens saved to collection variables');",
							"    }",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"viplucmca@yahoo.co.in\",\n    \"password\": \"12345678\",\n    \"device_name\": \"flutter-client-portal\",\n    \"device_token\": \"device_token_here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"login"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"token\": \"jwt_token\",\n        \"refresh_token\": \"refresh_token\",\n        \"user\": {\n            \"id\": 1,\n            \"name\": \"Vipul Kumar\",\n            \"email\": \"viplucmca@yahoo.co.in\",\n            \"client_id\": \"CLI-001\"\n        }\n    }\n}"
				}
			]
		},
		{
			"name": "2. Admin Login",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"admin1@gmail.com\",\n    \"password\": \"password123\",\n    \"device_name\": \"websocket-admin-portal\",\n    \"device_token\": \"device_token_here\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/admin-login",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"admin-login"
					]
				},
				"description": "Login for admin users with roles 1, 12, 13, 16 to get authentication token for WebSocket access"
			},
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    const responseJson = pm.response.json();",
							"    if (responseJson.success && responseJson.data) {",
							"        pm.collectionVariables.set('admin_auth_token', responseJson.data.token);",
							"        pm.collectionVariables.set('admin_refresh_token', responseJson.data.refresh_token);",
							"        pm.collectionVariables.set('admin_user_id', responseJson.data.user.id);",
							"        pm.collectionVariables.set('admin_user_role', responseJson.data.user.role);",
							"        console.log('Admin tokens saved to collection variables');",
							"        console.log('Admin User ID: ' + responseJson.data.user.id);",
							"        console.log('Admin User Role: ' + responseJson.data.user.role);",
							"    }",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin1@gmail.com\",\n    \"password\": \"password123\",\n    \"device_name\": \"websocket-admin-portal\",\n    \"device_token\": \"device_token_here\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin-login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin-login"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"token\": \"admin_jwt_token\",\n        \"refresh_token\": \"admin_refresh_token\",\n        \"user\": {\n            \"id\": 1,\n            \"name\": \"Super1 Admin1\",\n            \"email\": \"admin1@gmail.com\",\n            \"role\": 1\n        }\n    }\n}"
				},
				{
					"name": "Invalid Credentials",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"admin1@gmail.com\",\n    \"password\": \"wrongpassword\",\n    \"device_name\": \"websocket-admin-portal\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/admin-login",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"admin-login"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Invalid credentials\"\n}"
				}
			]
		},
		{
			"name": "3. Logout",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{}"
				},
				"url": {
					"raw": "{{base_url}}/logout",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"logout"
					]
				},
				"description": "Logout and revoke current authentication token"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{base_url}}/logout",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"logout"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Logged out successfully\"\n}"
				}
			]
		},
		{
			"name": "3.1. Logout All Devices",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{}"
				},
				"url": {
					"raw": "{{base_url}}/logout-all",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"logout-all"
					]
				},
				"description": "Logout from all devices and revoke all authentication tokens"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}"
						},
						"url": {
							"raw": "{{base_url}}/logout-all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"logout-all"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Logged out from all devices successfully\"\n}"
				}
			]
		},
		{
			"name": "4. Refresh Token",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"refresh_token\": \"{{refresh_token}}\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/refresh",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"refresh"
					]
				},
				"description": "Refresh authentication token using refresh token"
			},
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    const responseJson = pm.response.json();",
							"    if (responseJson.success && responseJson.data) {",
							"        pm.collectionVariables.set('auth_token', responseJson.data.token);",
							"        pm.collectionVariables.set('refresh_token', responseJson.data.refresh_token);",
							"        console.log('New tokens saved to collection variables');",
							"    }",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"refresh_token\": \"{{refresh_token}}\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/refresh",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"refresh"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"token\": \"new_jwt_token\",\n        \"refresh_token\": \"new_refresh_token\",\n        \"user\": {\n            \"id\": 1,\n            \"name\": \"Client Name\",\n            \"email\": \"client@example.com\",\n            \"client_id\": \"CLI-001\"\n        }\n    }\n}"
				}
			]
		},
		{
			"name": "Stripe - Create PaymentIntent",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Requires authenticated client token"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"amount\": 2000,\n    \"currency\": \"usd\",\n    \"description\": \"Consultation fee\",\n    \"metadata\": {\n        \"order_id\": \"CRM-1001\"\n    }\n}"
				},
				"url": {
					"raw": "{{base_url}}/payments/create-payment-intent",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"payments",
						"create-payment-intent"
					]
				},
				"description": "Create a Stripe PaymentIntent via POST /api/payments/create-payment-intent to obtain the client_secret for frontend payment confirmation."
			},
			"response": [
				{
					"name": "201 Created",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"amount\": 2000,\n    \"currency\": \"usd\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/payments/create-payment-intent",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"payments",
								"create-payment-intent"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"id\": \"pi_3NExample\",\n    \"status\": \"requires_payment_method\",\n    \"client_secret\": \"pi_3NExample_secret_123\",\n    \"amount\": 2000,\n    \"currency\": \"usd\"\n}"
				}
			]
		},
		{
			"name": "5. Forgot Password",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"client@example.com\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/forgot-password",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"forgot-password"
					]
				},
				"description": "Send password reset code to user's email"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"client@example.com\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/forgot-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"forgot-password"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Password reset code sent to your email\",\n    \"data\": {\n        \"email\": \"client@example.com\",\n        \"expires_in\": 600\n    }\n}"
				}
			]
		},
		{
			"name": "6. Reset Password",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"email\": \"client@example.com\",\n    \"code\": \"123456\",\n    \"password\": \"newpassword123\",\n    \"password_confirmation\": \"newpassword123\"\n}"
				},
				"url": {
					"raw": "{{base_url}}/reset-password",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"reset-password"
					]
				},
				"description": "Reset password using the code sent to email"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"email\": \"client@example.com\",\n    \"code\": \"123456\",\n    \"password\": \"newpassword123\",\n    \"password_confirmation\": \"newpassword123\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/reset-password",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"reset-password"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Password reset successfully. You can now login with your new password.\",\n    \"data\": {\n        \"email\": \"client@example.com\",\n        \"status\": \"password_reset\"\n    }\n}"
				}
			]
		},
		{
			"name": "7. Client Profile - Get Profile",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"profile"
					]
				},
				"description": "Get authenticated client profile information"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"John\",\n    \"last_name\": \"Doe\",\n    \"phone\": \"+1234567890\",\n    \"address\": \"123 Main St\",\n    \"city\": \"Los Angeles\",\n    \"state\": \"CA\",\n    \"post_code\": \"90210\",\n    \"country\": \"USA\",\n    \"dob\": \"1990-01-01\",\n    \"gender\": \"Male\",\n    \"marital_status\": \"Single\"\n}"
						},
						"url": {
							"raw": "{{base_url}}/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"profile"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Profile updated successfully\",\n    \"data\": {\n        \"id\": 1,\n        \"client_id\": \"CLI-001\",\n        \"first_name\": \"John\",\n        \"last_name\": \"Doe\",\n        \"email\": \"client@example.com\",\n        \"phone\": \"+1234567890\",\n        \"address\": \"123 Main St\",\n        \"city\": \"Los Angeles\",\n        \"state\": \"CA\",\n        \"post_code\": \"90210\",\n        \"country\": \"USA\",\n        \"dob\": \"1990-01-01\",\n        \"gender\": \"Male\",\n        \"marital_status\": \"Single\",\n        \"profile_img\": \"path/to/profile/image.jpg\",\n        \"status\": 1,\n        \"role\": 7,\n        \"cp_status\": 1,\n        \"cp_code_verify\": 1,\n        \"email_verified_at\": \"2024-01-01T00:00:00Z\",\n        \"created_at\": \"2024-01-01T00:00:00Z\",\n        \"updated_at\": \"2024-01-01T00:00:00Z\"\n    }\n}"
				}
			]
		},
		{
			"name": "8. Matters (Cases) - Get All Matters",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/matters",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"matters"
					]
				},
				"description": "Get all active matters for the authenticated client. Records with sel_matter_id=1 are shown as 'General Matter'. Matter names include client unique matter numbers when available."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/matters",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"matters"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"matters\": [\n            {\n                \"matter_id\": 1,\n                \"matter_name\": \"General Matter (BA_2)\"\n            },\n            {\n                \"matter_id\": 2,\n                \"matter_name\": \"Immigration Visa Application (MAT-001)\"\n            },\n            {\n                \"matter_id\": 3,\n                \"matter_name\": \"Work Permit Application (WP-123)\"\n            },\n            {\n                \"matter_id\": 4,\n                \"matter_name\": \"Family Reunion Visa (FR-456)\"\n            }\n        ]\n    }\n}"
				}
			]
		},
		{
			"name": "9. Dashboard",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/dashboard?sel_matter_id=9",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"dashboard"
					],
					"query": [
						{
							"key": "sel_matter_id",
							"value": "9",
							"description": "Required: Filter dashboard data by specific matter ID from matters API (must be positive integer)"
						}
					]
				},
				"description": "Get dashboard data with cases, documents, appointments, and recent activities filtered by specific matter. The sel_matter_id parameter is required and must be a positive integer."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/dashboard?sel_matter_id=9",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"dashboard"
							],
							"query": [
								{
									"key": "sel_matter_id",
									"value": "9"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"active_cases\": 2,\n        \"total_documents\": 15,\n        \"total_appointments\": 3,\n        \"case_summary\": {\n            \"active_cases\": 2,\n            \"completed_cases\": 1,\n            \"total_cases\": 3,\n            \"total_matters\": 4\n        },\n        \"recent_cases\": [\n            {\n                \"id\": 1,\n                \"title\": \"Immigration Visa Application (MAT-001)\",\n                \"case_number\": \"Case #1\",\n                \"status\": \"In Progress\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            }\n        ],\n        \"document_status\": {\n            \"summary\": {\n                \"approved\": 8,\n                \"pending\": 5,\n                \"rejected\": 2\n            },\n            \"overall_progress\": 53,\n            \"recent_documents\": [\n                {\n                    \"id\": 1,\n                    \"name\": \"Passport Copy\",\n                    \"status\": \"Approved\",\n                    \"uploaded_at\": \"2024-01-01T00:00:00Z\",\n                    \"uploaded_days_ago\": 5\n                }\n            ]\n        },\n        \"upcoming_deadlines\": {\n            \"summary\": {\n                \"due_this_week_count\": 2,\n                \"appointments_count\": 3,\n                \"overdue_count\": 1\n            },\n            \"due_this_week_list\": [\n                {\n                    \"id\": 1,\n                    \"title\": \"Submit Documents\",\n                    \"due_date\": \"2024-01-15\",\n                    \"due_datetime\": \"Jan 15, 2024\",\n                    \"status\": \"pending\",\n                    \"days_until\": 4,\n                    \"priority\": \"medium\",\n                    \"type\": \"deadline\"\n                }\n            ]\n        },\n        \"recent_activity\": [\n            {\n                \"id\": 1,\n                \"type\": \"Document\",\n                \"title\": \"Added personal document\",\n                \"description\": \"Passport copy uploaded for Case #123. Document is now under review...\",\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\",\n                \"time_ago\": \"2 hours ago\"\n            }\n        ],\n        \"selected_matter_id\": 1\n    }\n}"
				}
			]
		},
		{
			"name": "10. Dashboard - Recent Cases (View All)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/recent-cases?page=1&per_page=10&search=&status=&priority=&sel_matter_id=9",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"recent-cases"
					],
					"query": [
						{
							"key": "page",
							"value": "1",
							"description": "Page number for pagination"
						},
						{
							"key": "per_page",
							"value": "10",
							"description": "Number of items per page"
						},
						{
							"key": "search",
							"value": "",
							"description": "Search term for case title, case number, or status"
						},
						{
							"key": "status",
							"value": "",
							"description": "Filter by case status"
						},
						{
							"key": "priority",
							"value": "",
							"description": "Filter by case priority (high, medium, low)"
						},
						{
							"key": "sel_matter_id",
							"value": "9",
							"description": "Required: Filter by specific matter ID from matters API (must be positive integer)"
						}
					]
				},
				"description": "Get all recent cases with pagination, search, and filtering options"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/recent-cases?page=1&per_page=10&search=&status=&priority=&sel_matter_id=9",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"recent-cases"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "per_page",
									"value": "10"
								},
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "status",
									"value": ""
								},
								{
									"key": "priority",
									"value": ""
								},
								{
									"key": "sel_matter_id",
									"value": "9"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"cases\": [\n            {\n                \"id\": 1,\n                \"title\": \"102 - Adoption (AP_2)\",\n                \"case_number\": \"Case #1\",\n                \"matter_number\": \"AP_2\",\n                \"case_type\": \"Adoption\",\n                \"case_code\": \"102\",\n                \"status\": \"Initial consultation\",\n                \"stage_name\": \"initial_consultation\",\n                \"priority\": \"low\",\n                \"priority_display\": \"LOW\",\n                \"priority_color\": \"#9E9E9E\",\n                \"description\": \"No description available\",\n                \"workflow_stage_id\": 1,\n                \"progress_percentage\": 7,\n                \"progress_display\": \"7%\",\n                \"is_file_closed\": false,\n                \"agents\": {\n                    \"migration_agent\": {\n                        \"id\": 36524,\n                        \"name\": \"John Smith\"\n                    },\n                    \"person_responsible\": {\n                        \"id\": 36484,\n                        \"name\": \"Sarah Johnson\"\n                    },\n                    \"person_assisting\": {\n                        \"id\": 36532,\n                        \"name\": \"Mike Wilson\"\n                    }\n                },\n                \"additional_info\": \"Unknown\",\n                \"workflow_stage\": {\n                    \"id\": 1,\n                    \"name\": \"initial_consultation\",\n                    \"display_name\": \"Initial consultation\"\n                },\n                \"actions\": {\n                    \"can_view_timeline\": true,\n                    \"can_view_details\": true,\n                    \"can_edit\": false,\n                    \"timeline_url\": \"/api/cases/1/timeline\",\n                    \"details_url\": \"/api/cases/1/details\"\n                },\n                \"created_at\": \"2025-09-01T00:00:00Z\",\n                \"updated_at\": \"2025-09-01T00:00:00Z\",\n                \"last_updated\": \"18 days ago\",\n                \"estimated_completion\": null,\n                \"client_unique_matter_no\": \"AP_2\"\n            },\n            {\n                \"id\": 2,\n                \"title\": \"020 - Bridging (Class B) (BA_2)\",\n                \"case_number\": \"Case #2\",\n                \"matter_number\": \"BA_2\",\n                \"case_type\": \"Bridging (Class B)\",\n                \"case_code\": \"020\",\n                \"status\": \"Initial consultation\",\n                \"stage_name\": \"initial_consultation\",\n                \"priority\": \"low\",\n                \"priority_display\": \"LOW\",\n                \"priority_color\": \"#9E9E9E\",\n                \"description\": \"No description available\",\n                \"workflow_stage_id\": 1,\n                \"progress_percentage\": 7,\n                \"progress_display\": \"7%\",\n                \"is_file_closed\": false,\n                \"agents\": {\n                    \"migration_agent\": {\n                        \"id\": 36524,\n                        \"name\": \"John Smith\"\n                    },\n                    \"person_responsible\": {\n                        \"id\": 36484,\n                        \"name\": \"Sarah Johnson\"\n                    },\n                    \"person_assisting\": {\n                        \"id\": 36532,\n                        \"name\": \"Mike Wilson\"\n                    }\n                },\n                \"additional_info\": \"Unknown\",\n                \"workflow_stage\": {\n                    \"id\": 1,\n                    \"name\": \"initial_consultation\",\n                    \"display_name\": \"Initial consultation\"\n                },\n                \"actions\": {\n                    \"can_view_timeline\": true,\n                    \"can_view_details\": true,\n                    \"can_edit\": false,\n                    \"timeline_url\": \"/api/cases/2/timeline\",\n                    \"details_url\": \"/api/cases/2/details\"\n                },\n                \"created_at\": \"2025-08-15T00:00:00Z\",\n                \"updated_at\": \"2025-08-20T00:00:00Z\",\n                \"last_updated\": \"30 days ago\",\n                \"estimated_completion\": null,\n                \"client_unique_matter_no\": \"BA_2\"\n            }\n        ],\n        \"summary\": {\n            \"total_cases\": 2,\n            \"active_cases\": 2,\n            \"completed_cases\": 0,\n            \"priority_breakdown\": {\n                \"high\": 0,\n                \"medium\": 0,\n                \"low\": 2\n            },\n            \"status_breakdown\": {\n                \"initial_consultation\": 2,\n                \"in_progress\": 0,\n                \"completed\": 0\n            }\n        },\n        \"pagination\": {\n            \"current_page\": 1,\n            \"per_page\": 10,\n            \"total_cases\": 2,\n            \"total_pages\": 1,\n            \"has_next_page\": false,\n            \"has_prev_page\": false\n        },\n        \"filters\": {\n            \"search\": \"\",\n            \"status\": \"\",\n            \"priority\": \"\",\n            \"sel_matter_id\": 1\n        },\n        \"filter_options\": {\n            \"status_filters\": [\n                {\"key\": \"all\", \"label\": \"All Status\", \"count\": 2},\n                {\"key\": \"initial_consultation\", \"label\": \"Initial Consultation\", \"count\": 2},\n                {\"key\": \"in_progress\", \"label\": \"In Progress\", \"count\": 0},\n                {\"key\": \"completed\", \"label\": \"Completed\", \"count\": 0}\n            ],\n            \"priority_filters\": [\n                {\"key\": \"all\", \"label\": \"All Priority\", \"count\": 2},\n                {\"key\": \"high\", \"label\": \"High\", \"count\": 0},\n                {\"key\": \"medium\", \"label\": \"Medium\", \"count\": 0},\n                {\"key\": \"low\", \"label\": \"Low\", \"count\": 2}\n            ]\n        }\n    }\n}"
				}
			]
		},
		{
			"name": "11. Dashboard - Documents (View All)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/documents?page=1&per_page=10&search=&status=&doc_type=&sel_matter_id=9",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"documents"
					],
					"query": [
						{
							"key": "page",
							"value": "1",
							"description": "Page number for pagination"
						},
						{
							"key": "per_page",
							"value": "10",
							"description": "Number of items per page"
						},
						{
							"key": "search",
							"value": "",
							"description": "Search term for document name"
						},
						{
							"key": "status",
							"value": "",
							"description": "Filter by status (approved, pending, rejected)"
						},
						{
							"key": "doc_type",
							"value": "",
							"description": "Filter by document type (visa, personal)"
						},
						{
							"key": "sel_matter_id",
							"value": "9",
							"description": "Required: Filter by specific matter ID (must be positive integer) - applies only to visa documents, personal documents always included"
						}
					]
				},
				"description": "Get all documents with pagination, search, and filtering options"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/documents?page=1&per_page=10&search=&status=&doc_type=&sel_matter_id=9",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "per_page",
									"value": "10"
								},
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "status",
									"value": ""
								},
								{
									"key": "doc_type",
									"value": ""
								},
								{
									"key": "sel_matter_id",
									"value": "9"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"documents\": [\n            {\n                \"id\": 1,\n                \"name\": \"vipul_passport\",\n                \"file_name\": \"vipul_passport.pdf\",\n                \"file_type\": \"pdf\",\n                \"file_extension\": \"PDF\",\n                \"doc_type\": \"personal\",\n                \"status\": \"Approved\",\n                \"original_status\": \"signed\",\n                \"file_size\": 2048576,\n                \"file_size_formatted\": \"2.0 MB\",\n                \"uploaded_at\": \"2025-09-11T00:00:00Z\",\n                \"updated_at\": \"2025-09-11T00:00:00Z\",\n                \"uploaded_days_ago\": 8,\n                \"uploaded_date_formatted\": \"Sep 11, 2025\",\n                \"last_updated\": \"8 days ago\",\n                \"file_url\": \"https://bansalimmigration.s3.ap-southeast-1.amazonaws.com/documents/vipul_passport.pdf\",\n                \"file_key\": \"documents/vipul_passport.pdf\",\n                \"download_url\": \"https://bansalimmigration.s3.ap-southeast-1.amazonaws.com/documents/vipul_passport.pdf\",\n                \"is_downloadable\": true,\n                \"mime_type\": \"application/pdf\"\n            },\n            {\n                \"id\": 2,\n                \"name\": \"nts_1756380947\",\n                \"file_name\": \"nts_1756380947.pdf\",\n                \"file_type\": \"pdf\",\n                \"file_extension\": \"PDF\",\n                \"doc_type\": \"visa\",\n                \"status\": \"Pending\",\n                \"original_status\": \"draft\",\n                \"file_size\": 1536000,\n                \"file_size_formatted\": \"1.5 MB\",\n                \"uploaded_at\": \"2025-08-28T00:00:00Z\",\n                \"updated_at\": \"2025-08-28T00:00:00Z\",\n                \"uploaded_days_ago\": 22,\n                \"uploaded_date_formatted\": \"Aug 28, 2025\",\n                \"last_updated\": \"22 days ago\",\n                \"file_url\": \"https://bansalimmigration.s3.ap-southeast-1.amazonaws.com/documents/nts_1756380947.pdf\",\n                \"file_key\": \"documents/nts_1756380947.pdf\",\n                \"download_url\": \"https://bansalimmigration.s3.ap-southeast-1.amazonaws.com/documents/nts_1756380947.pdf\",\n                \"is_downloadable\": true,\n                \"mime_type\": \"application/pdf\"\n            },\n            {\n                \"id\": 3,\n                \"name\": \"vipul_draft_90909900a71756377853\",\n                \"file_name\": \"vipul_draft_90909900a71756377853.jpg\",\n                \"file_type\": \"jpg\",\n                \"file_extension\": \"JPEG\",\n                \"doc_type\": \"personal\",\n                \"status\": \"Approved\",\n                \"original_status\": \"signed\",\n                \"file_size\": 3145728,\n                \"file_size_formatted\": \"3.0 MB\",\n                \"uploaded_at\": \"2025-08-28T00:00:00Z\",\n                \"updated_at\": \"2025-08-28T00:00:00Z\",\n                \"uploaded_days_ago\": 22,\n                \"uploaded_date_formatted\": \"Aug 28, 2025\",\n                \"last_updated\": \"22 days ago\",\n                \"file_url\": \"https://bansalimmigration.s3.ap-southeast-1.amazonaws.com/documents/vipul_draft_90909900a71756377853.jpg\",\n                \"file_key\": \"documents/vipul_draft_90909900a71756377853.jpg\",\n                \"download_url\": \"https://bansalimmigration.s3.ap-southeast-1.amazonaws.com/documents/vipul_draft_90909900a71756377853.jpg\",\n                \"is_downloadable\": true,\n                \"mime_type\": \"image/jpeg\"\n            }\n        ],\n        \"summary\": {\n            \"approved\": 2,\n            \"pending\": 1,\n            \"rejected\": 0,\n            \"total\": 3\n        },\n        \"overall_progress\": 67,\n        \"pagination\": {\n            \"current_page\": 1,\n            \"per_page\": 10,\n            \"total_documents\": 3,\n            \"total_pages\": 1,\n            \"has_next_page\": false,\n            \"has_prev_page\": false\n        },\n        \"filters\": {\n            \"search\": \"\",\n            \"status\": \"\",\n            \"doc_type\": \"\",\n            \"sel_matter_id\": 1\n        }\n    }\n}"
				}
			]
		},
		{
			"name": "12. Dashboard - Tasks (View All)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/upcoming-deadlines?page=1&per_page=10&search=&status=all&priority=all",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"upcoming-deadlines"
					],
					"query": [
						{
							"key": "page",
							"value": "1",
							"description": "Page number for pagination"
						},
						{
							"key": "per_page",
							"value": "10",
							"description": "Number of items per page"
						},
						{
							"key": "search",
							"value": "",
							"description": "Search term for task title"
						},
						{
							"key": "status",
							"value": "all",
							"description": "Filter by status (all, pending, in_progress, completed)"
						},
						{
							"key": "priority",
							"value": "all",
							"description": "Filter by priority (all, high, medium, low)"
						}
					]
				},
				"description": "Get all tasks and deadlines with pagination, search, status and priority filtering options"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/upcoming-deadlines?page=1&per_page=10&search=&status=all&priority=all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"upcoming-deadlines"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "per_page",
									"value": "10"
								},
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "status",
									"value": "all"
								},
								{
									"key": "priority",
									"value": "all"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"tasks\": [\n            {\n                \"id\": 1,\n                \"title\": \"Submit additional documents\",\n                \"due_date\": \"2025-09-23\",\n                \"due_datetime\": \"Sep 23, 2025\",\n                \"due_formatted\": \"Due: Sep 23, 2025\",\n                \"status\": \"pending\",\n                \"status_display\": \"Pending\",\n                \"priority\": \"high\",\n                \"priority_display\": \"High\",\n                \"days_until\": 4,\n                \"type\": \"task\",\n                \"task_group\": \"Documentation\",\n                \"description\": \"Submit required additional documents for visa application\",\n                \"is_overdue\": false,\n                \"is_due_soon\": false,\n                \"status_color\": \"#FFA500\",\n                \"priority_color\": \"#FF4444\",\n                \"created_at\": \"2025-09-01T00:00:00Z\",\n                \"updated_at\": \"2025-09-01T00:00:00Z\",\n                \"last_updated\": \"18 days ago\"\n            },\n            {\n                \"id\": 2,\n                \"title\": \"Schedule medical examination\",\n                \"due_date\": \"2025-09-28\",\n                \"due_datetime\": \"Sep 28, 2025\",\n                \"due_formatted\": \"Due: Sep 28, 2025\",\n                \"status\": \"in_progress\",\n                \"status_display\": \"In Progress\",\n                \"priority\": \"medium\",\n                \"priority_display\": \"Medium\",\n                \"days_until\": 9,\n                \"type\": \"task\",\n                \"task_group\": \"Medical\",\n                \"description\": \"Schedule and complete medical examination for visa application\",\n                \"is_overdue\": false,\n                \"is_due_soon\": false,\n                \"status_color\": \"#2196F3\",\n                \"priority_color\": \"#FF9800\",\n                \"created_at\": \"2025-09-05T00:00:00Z\",\n                \"updated_at\": \"2025-09-10T00:00:00Z\",\n                \"last_updated\": \"9 days ago\"\n            },\n            {\n                \"id\": 3,\n                \"title\": \"Complete application form\",\n                \"due_date\": \"2025-09-20\",\n                \"due_datetime\": \"Sep 20, 2025\",\n                \"due_formatted\": \"Due: Sep 20, 2025\",\n                \"status\": \"pending\",\n                \"status_display\": \"Pending\",\n                \"priority\": \"high\",\n                \"priority_display\": \"High\",\n                \"days_until\": 1,\n                \"type\": \"task\",\n                \"task_group\": \"Application\",\n                \"description\": \"Complete and submit the main visa application form\",\n                \"is_overdue\": false,\n                \"is_due_soon\": true,\n                \"status_color\": \"#FFA500\",\n                \"priority_color\": \"#FF4444\",\n                \"created_at\": \"2025-09-01T00:00:00Z\",\n                \"updated_at\": \"2025-09-15T00:00:00Z\",\n                \"last_updated\": \"4 days ago\"\n            }\n        ],\n        \"summary\": {\n            \"all_count\": 3,\n            \"pending_count\": 2,\n            \"in_progress_count\": 1,\n            \"completed_count\": 0,\n            \"high_priority_count\": 2,\n            \"medium_priority_count\": 1,\n            \"low_priority_count\": 0,\n            \"due_soon_count\": 1,\n            \"overdue_count\": 0,\n            \"total_tasks\": 3\n        },\n        \"filter_options\": {\n            \"status_filters\": [\n                {\"key\": \"all\", \"label\": \"All\", \"count\": 3},\n                {\"key\": \"pending\", \"label\": \"Pending\", \"count\": 2},\n                {\"key\": \"in_progress\", \"label\": \"In Progress\", \"count\": 1},\n                {\"key\": \"completed\", \"label\": \"Completed\", \"count\": 0}\n            ],\n            \"priority_filters\": [\n                {\"key\": \"all\", \"label\": \"All Priorities\", \"count\": 3},\n                {\"key\": \"high\", \"label\": \"High\", \"count\": 2},\n                {\"key\": \"medium\", \"label\": \"Medium\", \"count\": 1},\n                {\"key\": \"low\", \"label\": \"Low\", \"count\": 0}\n            ]\n        },\n        \"pagination\": {\n            \"current_page\": 1,\n            \"per_page\": 10,\n            \"total_tasks\": 3,\n            \"total_pages\": 1,\n            \"has_next_page\": false,\n            \"has_prev_page\": false\n        },\n        \"filters\": {\n            \"search\": \"\",\n            \"status\": \"all\",\n            \"priority\": \"all\"\n        }\n    }\n}"
				}
			]
		},
		{
			"name": "13. Dashboard - Recent Activity (View All)",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/recent-activity?page=1&per_page=10&search=&type=",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"recent-activity"
					],
					"query": [
						{
							"key": "page",
							"value": "1",
							"description": "Page number for pagination"
						},
						{
							"key": "per_page",
							"value": "10",
							"description": "Number of items per page"
						},
						{
							"key": "search",
							"value": "",
							"description": "Search term for subject or description"
						},
						{
							"key": "type",
							"value": "",
							"description": "Filter by activity type (Note, Action, Document, Email, Activity)"
						}
					]
				},
				"description": "Get all recent activities with pagination, search, and filtering options"
			}
		},
		{
			"name": "14. Update Profile",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/profile",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"profile"
					]
				},
				"body": {
					"mode": "raw",
					"raw": "{\n  \"first_name\": \"John\",\n  \"last_name\": \"Doe\",\n  \"phone\": \"+1234567890\",\n  \"address\": \"123 Main St\",\n  \"city\": \"Los Angeles\",\n  \"state\": \"CA\",\n  \"post_code\": \"90210\",\n  \"country\": \"USA\",\n  \"dob\": \"1990-01-01\",\n  \"gender\": \"Male\",\n  \"marital_status\": \"Single\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"description": "Update client profile information including personal details, contact information, and preferences"
			}
		},
		{
			"name": "15. Document Management - Personal Document Categories",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/documents/personal/categories",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"documents",
						"personal",
						"categories"
					]
				},
				"description": "Get all personal document categories. Personal documents are matter independent and apply to all cases."
			}
		},
		{
			"name": "16. Document Management - Personal Document Checklist",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/documents/personal/checklist",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"documents",
						"personal",
						"checklist"
					]
				},
				"description": "Get detailed checklist of personal documents from document_checklists table where doc_type=1. Personal documents are matter independent."
			}
		},
		{
			"name": "17. Document Management - Visa Document Categories",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/documents/visa/categories?client_matter_id=9",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"documents",
						"visa",
						"categories"
					],
					"query": [
						{
							"key": "client_matter_id",
							"value": "9",
							"description": "Optional: Filter by specific client matter ID"
						}
					]
				},
				"description": "Get visa document categories from visa_document_types table with client and matter filtering."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/recent-activity?page=1&per_page=10&search=&type=",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"recent-activity"
							],
							"query": [
								{
									"key": "page",
									"value": "1"
								},
								{
									"key": "per_page",
									"value": "10"
								},
								{
									"key": "search",
									"value": ""
								},
								{
									"key": "type",
									"value": ""
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"activities\": [\n            {\n                \"id\": 1,\n                \"type\": \"Document\",\n                \"title\": \"Added personal document\",\n                \"description\": \"Passport copy uploaded for Case #123. Document is now under review...\",\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\",\n                \"time_ago\": \"2 hours ago\",\n                \"task_group\": null\n            },\n            {\n                \"id\": 2,\n                \"type\": \"Note\",\n                \"title\": \"Added a note to case\",\n                \"description\": \"Client provided additional information about employment history...\",\n                \"created_at\": \"2024-01-02T00:00:00Z\",\n                \"updated_at\": \"2024-01-02T00:00:00Z\",\n                \"time_ago\": \"1 day ago\",\n                \"task_group\": \"Case Management\"\n            }\n        ],\n        \"type_summary\": {\n            \"Note\": 5,\n            \"Action\": 3,\n            \"Document\": 8,\n            \"Email\": 2,\n            \"Activity\": 12\n        },\n        \"pagination\": {\n            \"current_page\": 1,\n            \"per_page\": 10,\n            \"total_activities\": 30,\n            \"total_pages\": 3,\n            \"has_next_page\": true,\n            \"has_prev_page\": false\n        },\n        \"filters\": {\n            \"search\": \"\",\n            \"type\": \"\"\n        }\n    }\n}"
				}
			]
		},
		{
			"name": "18. Document Management - Visa Document Checklist",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/documents/visa/checklist",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"documents",
						"visa",
						"checklist"
					]
				},
				"description": "Get detailed checklist of visa documents from document_checklists table where doc_type=2. No matter dependency required."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/profile",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"profile"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": 1,\n        \"client_id\": \"CLI-001\",\n        \"first_name\": \"John\",\n        \"last_name\": \"Doe\",\n        \"email\": \"client@example.com\",\n        \"phone\": \"+1234567890\",\n        \"address\": \"123 Main St\",\n        \"city\": \"Los Angeles\",\n        \"state\": \"CA\",\n        \"post_code\": \"90210\",\n        \"country\": \"USA\",\n        \"dob\": \"1990-01-01\",\n        \"gender\": \"Male\",\n        \"marital_status\": \"Single\",\n        \"profile_img\": \"path/to/profile/image.jpg\",\n        \"status\": 1,\n        \"role\": 7,\n        \"cp_status\": 1,\n        \"cp_code_verify\": 1,\n        \"email_verified_at\": \"2024-01-01T00:00:00Z\",\n        \"created_at\": \"2024-01-01T00:00:00Z\",\n        \"updated_at\": \"2024-01-01T00:00:00Z\"\n    }\n}"
				}
			]
		},
		{
			"name": "19. Document Management - Add Document Checklist",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n  \"checklist_id\": 1,\n  \"doc_type\": \"personal\",\n  \"doc_category_id\": 1\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/documents/checklist",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"documents",
						"checklist"
					]
				},
				"description": "Add a new document checklist entry to the documents table. Uses checklist_id to fetch checklist name from document_checklists table based on doc_type. Uses doc_category_id to validate category exists for the specified doc_type. For personal documents, do NOT include client_matter_id (it will be set to null). For visa documents, client_matter_id is MANDATORY."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"checklist_id\": 1,\n  \"doc_type\": \"personal\",\n  \"doc_category_id\": 1\n}"
						},
						"url": {
							"raw": "{{base_url}}/documents/checklist",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								"checklist"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Document checklist added successfully\",\n    \"data\": {\n        \"id\": 123,\n        \"checklist\": \"Passport Copy\",\n        \"doc_type\": \"personal\",\n        \"doc_category_id\": 1,\n        \"client_matter_id\": null,\n        \"status\": \"draft\",\n        \"is_client_portal_verify\": 2,\n        \"client_id\": 36464,\n        \"user_id\": 1,\n        \"created_at\": \"2024-01-01T00:00:00Z\",\n        \"updated_at\": \"2024-01-01T00:00:00Z\"\n    }\n}"
				}
			]
		},
		{
			"name": "20. Document Management - Upload Document",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "document_id",
							"value": "123",
							"type": "text",
							"description": "ID of the document record to update"
						},
						{
							"key": "file",
							"type": "file",
							"src": [],
							"description": "File to upload (max 10MB)"
						}
					]
				},
				"url": {
					"raw": "{{base_url}}/documents/upload",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"documents",
						"upload"
					]
				},
				"description": "Upload a file to an existing document record. Both document_id and file are MANDATORY parameters. Only ONE file can be uploaded at a time. The document must exist and belong to the authenticated client. File will be uploaded to AWS S3 and the document record will be updated with file details."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "document_id",
									"value": "123",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/documents/upload",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"documents",
								"upload"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Document uploaded successfully\",\n    \"data\": {\n        \"id\": 123,\n        \"file_name\": \"john_passport_1703123456\",\n        \"file_type\": \"pdf\",\n        \"file_size\": 2048576,\n        \"file_size_formatted\": \"2.0 MB\",\n        \"file_url\": \"https://bansalimmigration.s3.ap-southeast-1.amazonaws.com/CLI-001/personal/john_passport_1703123456.pdf\",\n        \"file_key\": \"john_passport_1703123456.pdf\",\n        \"doc_type\": \"personal\",\n        \"checklist\": \"Passport Copy\",\n        \"status\": \"draft\",\n        \"uploaded_at\": \"2024-01-01T00:00:00Z\"\n    }\n}"
				}
			]
		},
		{
			"name": "21. Workflow Management - Get Workflow Stages",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/workflow/stages?client_matter_id=9",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"workflow",
						"stages"
					],
					"query": [
						{
							"key": "client_matter_id",
							"value": "9",
							"description": "Optional: Get active stage for specific matter"
						}
					]
				},
				"description": "Get all workflow stages with the current active stage for the client. Optional client_matter_id parameter to get active stage for specific matter."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/workflow/stages?client_matter_id=9",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"workflow",
								"stages"
							],
							"query": [
								{
									"key": "client_matter_id",
									"value": "123"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"workflow_stages\": [\n            {\n                \"id\": 1,\n                \"name\": \"Initial consultation\",\n                \"stage_name\": \"Initial consultation\",\n                \"allowed_checklist_count\": 0,\n                \"allowed_checklist\": [],\n                \"is_active\": false,\n                \"is_current_stage\": false,\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            },\n            {\n                \"id\": 2,\n                \"name\": \"Checklist\",\n                \"stage_name\": \"Checklist\",\n                \"allowed_checklist_count\": 0,\n                \"allowed_checklist\": [],\n                \"is_active\": false,\n                \"is_current_stage\": false,\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            },\n            {\n                \"id\": 12,\n                \"name\": \"Immi Request Received\",\n                \"stage_name\": \"Immi Request Received\",\n                \"allowed_checklist_count\": 1,\n                \"allowed_checklist\": [\n                    {\n                        \"id\": 14,\n                        \"name\": \"Passport\"\n                    }\n                ],\n                \"is_active\": true,\n                \"is_current_stage\": true,\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            },\n            {\n                \"id\": 3,\n                \"name\": \"Application Lodged\",\n                \"stage_name\": \"Application Lodged\",\n                \"allowed_checklist_count\": 2,\n                \"allowed_checklist\": [\n                    {\n                        \"id\": 13,\n                        \"name\": \"National Identity Card\"\n                    },\n                    {\n                        \"id\": 15,\n                        \"name\": \"PAN Card\"\n                    }\n                ],\n                \"is_active\": false,\n                \"is_current_stage\": false,\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            }\n        ],\n        \"total_stages\": 12,\n        \"active_stage\": {\n            \"id\": 12,\n            \"name\": \"Immi Request Received\",\n            \"stage_name\": \"Immi Request Received\",\n            \"client_matter_no\": \"GN_1\",\n            \"matter_status\": 1,\n            \"stage_updated_at\": \"2024-01-01T00:00:00Z\",\n            \"is_active\": true\n        },\n        \"has_active_stage\": true,\n        \"client_id\": 36464,\n        \"client_matter_id\": 123\n    }\n}"
				}
			]
		},
		{
			"name": "22. Workflow Management - Get Workflow Stage Details",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/workflow/stages/12",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"workflow",
						"stages",
						"12"
					]
				},
				"description": "Get details of a specific workflow stage including client matters in that stage."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/workflow/stages/12",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"workflow",
								"stages",
								"12"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"stage\": {\n            \"id\": 12,\n            \"name\": \"Immi Request Received\",\n            \"stage_name\": \"Immi Request Received\",\n            \"is_active\": true,\n            \"created_at\": \"2024-01-01T00:00:00Z\",\n            \"updated_at\": \"2024-01-01T00:00:00Z\"\n        },\n        \"client_matters_in_stage\": [\n            {\n                \"id\": 123,\n                \"client_unique_matter_no\": \"GN_1\",\n                \"matter_status\": 1,\n                \"matter_title\": \"General Migration Case\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            }\n        ],\n        \"total_matters_in_stage\": 1,\n        \"active_matters_in_stage\": 1\n    }\n}"
				}
			]
		},
		{
			"name": "23. Workflow Management - Get Allowed Checklist",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"url": {
					"raw": "{{base_url}}/workflow/allowed-checklist?client_matter_id=9&stage_id=12",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"workflow",
						"allowed-checklist"
					],
					"query": [
						{
							"key": "client_matter_id",
							"value": "9",
							"description": "Required: Client matter ID to get allowed checklist for"
						},
						{
							"key": "stage_id",
							"value": "12",
							"description": "Optional: Filter by workflow stage ID. If provided, returns only checklists matching the stage's typename. If null or blank, returns all checklists."
						}
					]
				},
				"description": "Get allowed checklist documents for a specific client matter. Optional stage_id parameter to filter by workflow stage. Returns checklist items that clients can upload documents for."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"url": {
							"raw": "{{base_url}}/workflow/allowed-checklist?client_matter_id=9&stage_id=12",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"workflow",
								"allowed-checklist"
							],
							"query": [
								{
									"key": "client_matter_id",
									"value": "9"
								},
								{
									"key": "stage_id",
									"value": "12"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"application_info\": {\n            \"application_id\": 20736,\n            \"client_matter_id\": 9,\n            \"client_id\": 36464,\n            \"current_stage\": \"Immi Request Received\",\n            \"status\": 1\n        },\n        \"allowed_checklists\": [\n            {\n                \"id\": 14,\n                \"checklist_name\": \"Passport\",\n                \"document_type\": \"Passport\",\n                \"description\": \"Passport For Immi Request Received\",\n                \"type\": \"immi-request-received\",\n                \"type_id\": 12,\n                \"type_name\": \"Immi Request Received\",\n                \"is_mandatory\": true,\n                \"due_date\": \"2024-12-31\",\n                \"due_time\": \"23:59:59\",\n                \"is_upload\": true,\n                \"file_name\": \"john_passport_1703123456\",\n                \"file_url\": \"https://bansalcrm.s3.ap-southeast-2.amazonaws.com/application_documents/CLI-001/john_passport_1703123456.pdf\",\n                \"doc_status_id\": 1,\n                \"doc_status_text\": \"Approved\",\n                \"doc_rejection_reason\": null,\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            },\n            {\n                \"id\": 17,\n                \"checklist_name\": \"Driver License\",\n                \"document_type\": \"Driver License\",\n                \"description\": \"Valid driver license copy\",\n                \"type\": \"immi-request-received\",\n                \"type_id\": 12,\n                \"type_name\": \"Immi Request Received\",\n                \"is_mandatory\": false,\n                \"due_date\": \"2024-12-31\",\n                \"due_time\": \"23:59:59\",\n                \"is_upload\": true,\n                \"file_name\": \"john_driver_license_1703123456\",\n                \"file_url\": \"https://bansalcrm.s3.ap-southeast-2.amazonaws.com/application_documents/CLI-001/john_driver_license_1703123456.pdf\",\n                \"doc_status_id\": 0,\n                \"doc_status_text\": \"InProgress\",\n                \"doc_rejection_reason\": null,\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            },\n            {\n                \"id\": 15,\n                \"checklist_name\": \"Birth Certificate\",\n                \"document_type\": \"Birth Certificate\",\n                \"description\": \"Official birth certificate\",\n                \"type\": \"immi-request-received\",\n                \"type_id\": 12,\n                \"type_name\": \"Immi Request Received\",\n                \"is_mandatory\": false,\n                \"due_date\": \"2024-12-31\",\n                \"due_time\": \"23:59:59\",\n                \"is_upload\": false,\n                \"file_name\": null,\n                \"file_url\": null,\n                \"doc_status_id\": null,\n                \"doc_status_text\": null,\n                \"doc_rejection_reason\": null,\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            },\n            {\n                \"id\": 16,\n                \"checklist_name\": \"National Identity Card\",\n                \"document_type\": \"National Identity Card\",\n                \"description\": \"Valid national identity card\",\n                \"type\": \"immi-request-received\",\n                \"type_id\": 12,\n                \"type_name\": \"Immi Request Received\",\n                \"is_mandatory\": true,\n                \"due_date\": \"2024-12-31\",\n                \"due_time\": \"23:59:59\",\n                \"is_upload\": true,\n                \"file_name\": \"john_nic_1703123456\",\n                \"file_url\": \"https://bansalcrm.s3.ap-southeast-2.amazonaws.com/application_documents/CLI-001/john_nic_1703123456.pdf\",\n                \"doc_status_id\": 2,\n                \"doc_status_text\": \"Rejected\",\n                \"doc_rejection_reason\": \"Document quality is poor. Please upload a clear scanned copy.\",\n                \"created_at\": \"2024-01-01T00:00:00Z\",\n                \"updated_at\": \"2024-01-01T00:00:00Z\"\n            }\n        ],\n        \"total_allowed_checklists\": 4,\n        \"mandatory_checklists\": 2,\n        \"optional_checklists\": 2,\n        \"client_matter_id\": 9,\n        \"stage_id\": 12,\n        \"stage_name\": \"Immi Request Received\"\n    }\n}"
				}
			]
		},
		{
			"name": "24. Workflow Management - Upload Allowed Checklist Document",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					}
				],
				"body": {
					"mode": "formdata",
					"formdata": [
						{
							"key": "client_matter_id",
							"value": "9",
							"type": "text",
							"description": "Client matter ID"
						},
						{
							"key": "allowed_checklist_id",
							"value": "14",
							"type": "text",
							"description": "Allowed checklist ID from the allowed checklist list"
						},
						{
							"key": "file",
							"type": "file",
							"src": [],
							"description": "File to upload (max 10MB)"
						}
					]
				},
				"url": {
					"raw": "{{base_url}}/workflow/upload-allowed-checklist",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"workflow",
						"upload-allowed-checklist"
					]
				},
				"description": "Upload a document for an allowed checklist item. Requires client_matter_id, allowed_checklist_id, and file. The file will be uploaded to AWS S3 in the application_documents/{client_unique_id}/ folder and stored in the application_documents table."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							}
						],
						"body": {
							"mode": "formdata",
							"formdata": [
								{
									"key": "client_matter_id",
									"value": "9",
									"type": "text"
								},
								{
									"key": "allowed_checklist_id",
									"value": "14",
									"type": "text"
								},
								{
									"key": "file",
									"type": "file",
									"src": []
								}
							]
						},
						"url": {
							"raw": "{{base_url}}/workflow/upload-allowed-checklist",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"workflow",
								"upload-allowed-checklist"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Allowed checklist document uploaded successfully\",\n    \"data\": {\n        \"document_id\": 123,\n        \"application_id\": 20736,\n        \"client_matter_id\": 9,\n        \"allowed_checklist_id\": 14,\n        \"checklist_name\": \"Passport\",\n        \"file_name\": \"John_Passport_1703123456\",\n        \"file_type\": \"pdf\",\n        \"file_size\": 2048576,\n        \"file_size_formatted\": \"2.0 MB\",\n        \"file_url\": \"https://bansalcrm.s3.ap-southeast-2.amazonaws.com/application_documents/CLI-001/John_Passport_1703123456.pdf\",\n        \"file_key\": \"John_Passport_1703123456.pdf\",\n        \"s3_path\": \"application_documents/CLI-001/John_Passport_1703123456.pdf\",\n        \"uploaded_at\": \"2024-01-01T00:00:00Z\"\n    }\n}"
				}
			]
		},
		{
			"name": "25. Messaging - Send Message",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"message\": \"This is a message sent via mobile app API at {{$timestamp}}\",\n    \"client_matter_id\": 9\n}"
				},
				"url": {
					"raw": "{{base_url}}/messages/send",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"messages",
						"send"
					]
				},
				"description": "Send a message for a specific client matter. Always broadcasts to all matter users (migration agent, person responsible, person assisting) and superadmin users (role=1). client_matter_id is required. Message will be broadcasted in real-time. Notifications will be sent to all recipients. Each recipient has individual read status tracking. Recipient information is stored in database and returned in response."
			},
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Auto-extract message ID and recipient count from send message response",
							"if (pm.response.code === 201 && pm.response.json().success) {",
							"    const messageId = pm.response.json().data.message_id;",
							"    const recipientCount = pm.response.json().data.recipient_count;",
							"    if (messageId) {",
							"        pm.collectionVariables.set('message_id', messageId);",
							"        console.log('Message ID set:', messageId);",
							"        console.log('Recipient count:', recipientCount);",
							"    }",
							"}"
						],
						"type": "text/javascript"
					}
				}
			]
		},
		{
			"name": "25b. Admin Messaging - Send Direct Message",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_auth_token}}",
						"description": "Use admin token from admin login response"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"message\": \"This is a direct message sent by admin at {{$timestamp}}\",\n    \"client_matter_id\": 9\n}"
				},
				"url": {
					"raw": "{{base_url}}/messages/send",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"messages",
						"send"
					]
				},
				"description": "Send a message from admin. Use admin_auth_token from admin login. Message will be broadcasted to all matter users and superadmins. Message will be broadcasted in real-time. Recipient information is stored in database and returned in response."
			},
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Auto-extract message ID from send message response",
							"if (pm.response.code === 201 && pm.response.json().success) {",
							"    const messageId = pm.response.json().data.message_id;",
							"    const recipientId = pm.response.json().data.message.recipient_id;",
							"    if (messageId) {",
							"        pm.collectionVariables.set('admin_message_id', messageId);",
							"        pm.collectionVariables.set('admin_recipient_id', recipientId);",
							"        console.log('Admin Message ID set:', messageId);",
							"        console.log('Recipient ID:', recipientId);",
							"    }",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": \"This is a direct message sent by admin at {{$timestamp}}\",\n    \"client_matter_id\": 9,\n    \"recipient_id\": 40445\n}"
						},
						"url": {
							"raw": "{{base_url}}/messages/send",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								"send"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Message sent successfully\",\n    \"data\": {\n        \"message_id\": 30,\n        \"message\": {\n            \"id\": 30,\n            \"message\": \"This is a direct message sent by admin at 1759845000\",\n            \"sender\": \"Super1 Admin1\",\n            \"sender_id\": 1,\n            \"recipient_ids\": [40445],\n            \"sent_at\": \"2025-01-07T13:30:00.000000Z\",\n            \"client_matter_id\": 9,\n            \"recipient_count\": 1\n        },\n        \"sent_at\": \"2025-01-07T13:30:00.000000Z\",\n        \"recipient_count\": 1\n    }\n}"
				}
			]
		},
		{
			"name": "25c. Admin - Send Message to Client Only",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{admin_auth_token}}",
						"description": "Use admin token from admin login response"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"message\": \"This is a message sent from web page to client at {{$timestamp}}\",\n    \"client_matter_id\": 9\n}"
				},
				"url": {
					"raw": "{{base_url}}/messages/send-to-client",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"messages",
						"send-to-client"
					]
				},
				"description": "Send a message ONLY to the client associated with the client_matter_id. This endpoint is specifically designed for web page use to send messages directly to clients. Unlike /messages/send which broadcasts to all agents, this sends only to the client (customer) who owns the matter. The client_id is automatically retrieved from the client_matters table. Message will be broadcasted in real-time to the client. Notification will be sent only to the client."
			},
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"// Auto-extract message ID and client info from send message to client response",
							"if (pm.response.code === 201 && pm.response.json().success) {",
							"    const messageId = pm.response.json().data.message_id;",
							"    const recipientId = pm.response.json().data.recipient.id;",
							"    const recipientName = pm.response.json().data.recipient.name;",
							"    if (messageId) {",
							"        pm.collectionVariables.set('client_message_id', messageId);",
							"        pm.collectionVariables.set('client_recipient_id', recipientId);",
							"        console.log('Client Message ID set:', messageId);",
							"        console.log('Sent to client:', recipientName, '(ID:', recipientId, ')');",
							"    }",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{admin_auth_token}}"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"message\": \"This is a message sent from web page to client at {{$timestamp}}\",\n    \"client_matter_id\": 9\n}"
						},
						"url": {
							"raw": "{{base_url}}/messages/send-to-client",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								"send-to-client"
							]
						}
					},
					"status": "Created",
					"code": 201,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Message sent successfully to client\",\n    \"data\": {\n        \"message_id\": 15,\n        \"message\": {\n            \"id\": 15,\n            \"message\": \"This is a message sent from web page to client at 1761285000\",\n            \"sender\": \"Vipul1 Kumar\",\n            \"sender_id\": 36464,\n            \"sender_shortname\": \"VK\",\n            \"recipient_ids\": [\n                {\n                    \"recipient_id\": 36524,\n                    \"recipient\": \"ARUN BANSAL\",\n                    \"recipient_shortname\": \"AB\"\n                }\n            ],\n            \"sent_at\": \"2025-10-24T10:50:00.000000Z\",\n            \"client_matter_id\": 9,\n            \"recipient_count\": 1\n        },\n        \"sent_at\": \"2025-10-24T10:50:00.000000Z\",\n        \"recipient\": {\n            \"id\": 36524,\n            \"name\": \"ARUN BANSAL\"\n        }\n    }\n}"
				}
			]
		},
		{
			"name": "26. Messaging - Get All Messages",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/messages?client_matter_id=9&page=1&limit=20",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"messages"
					],
					"query": [
						{
							"key": "client_matter_id",
							"value": "9",
							"description": "Client matter ID (required)"
						},
						{
							"key": "page",
							"value": "1",
							"description": "Page number for pagination"
						},
						{
							"key": "limit",
							"value": "20",
							"description": "Number of messages per page"
						}
					]
				},
				"description": "Get all messages for a specific client matter. Returns both sent and received messages with recipient information. Shows recipient_ids, recipients (with names), and recipient_count for each message. Individual read status is shown for current user. client_matter_id is required. Optional pagination with page and limit parameters."
			}
		},
		{
			"name": "27. Messaging - Get Message Details",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/messages/{{message_id}}",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"messages",
						"{{message_id}}"
					]
				},
				"description": "Get detailed information about a specific message including all recipients with their read status and shortnames. Shows sender_shortname and recipient_shortname for all users. Useful for senders to see who has read their message."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/messages/{{message_id}}",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								"{{message_id}}"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"id\": 123,\n        \"message\": \"Hello everyone\",\n        \"sender\": \"John Doe\",\n        \"sender_id\": 5,\n        \"sender_shortname\": \"JD\",\n        \"is_sender\": true,\n        \"is_recipient\": false,\n        \"recipients\": [\n            {\n                \"recipient_id\": 36524,\n                \"recipient_name\": \"ARUN BANSAL\",\n                \"recipient_shortname\": \"AB\",\n                \"is_read\": true,\n                \"read_at\": \"2025-10-16 10:30:00\"\n            },\n            {\n                \"recipient_id\": 36484,\n                \"recipient_name\": \"KHUSHI Sangroya\",\n                \"recipient_shortname\": \"KS\",\n                \"is_read\": false,\n                \"read_at\": null\n            },\n            {\n                \"recipient_id\": 36532,\n                \"recipient_name\": \"Rajan Kumar\",\n                \"recipient_shortname\": \"RK\",\n                \"is_read\": true,\n                \"read_at\": \"2025-10-16 10:35:00\"\n            }\n        ],\n        \"recipient_count\": 3,\n        \"sent_at\": \"2025-10-16 10:30:00\",\n        \"is_read\": null,\n        \"read_at\": null,\n        \"client_matter_id\": 9,\n        \"created_at\": \"2025-10-16 10:30:00\",\n        \"updated_at\": \"2025-10-16 10:30:00\"\n    }\n}"
				}
			]
		},
		{
			"name": "28. Messaging - Mark Message as Read",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/messages/{{message_id}}/read",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"messages",
						"{{message_id}}",
						"read"
					]
				},
				"description": "Mark a message as read. Only recipients of the message can mark it as read. Updates individual read status for the current user in the pivot table. This will broadcast read status to the sender. Returns 403 if user is not a recipient of the message."
			}
		},
		{
			"name": "29. Messaging - Get Unread Count",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/messages/unread-count?client_matter_id=9",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"messages",
						"unread-count"
					],
					"query": [
						{
							"key": "client_matter_id",
							"value": "9",
							"description": "Required: Client matter ID to get unread count for specific matter"
						}
					]
			},
			"description": "Get the count of unread messages for the authenticated user for a specific client matter. Counts messages where the current user is the sender and calculates unread count as: Total sent messages - Read messages count. client_matter_id is required."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/messages/unread-count?client_matter_id=9",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"messages",
								"unread-count"
							],
							"query": [
								{
									"key": "client_matter_id",
									"value": "9"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"data\": {\n        \"unread_count\": 5\n    }\n}"
				}
			]
		},
		{
			"name": "30. Get Client Personal Detail",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/get-client-personal-detail?tab=all",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"get-client-personal-detail"
					],
					"query": [
						{
							"key": "tab",
							"value": "all",
							"description": "Filter data by tab. Valid values: all, basic_information, phones, emails, passports, visas, addresses, travels, qualifications, experiences, occupations, test_scores. Default: all",
							"disabled": false
						}
					]
				},
				"description": "Get authenticated client's personal details with tab-based filtering support. Uses the logged-in client's ID from the authentication token.\n\n**Tab Filtering:**\n- Use `?tab=all` (default) to get all data sections\n- Use `?tab=basic_information` to get only basic information\n- Use `?tab=phones` to get only phones array\n- Use `?tab=emails` to get only emails array\n- Use `?tab=passports` to get only passports array\n- Use `?tab=visas` to get only visas array\n- Use `?tab=addresses` to get only addresses array\n- Use `?tab=travels` to get only travels array\n- Use `?tab=qualifications` to get only qualifications array\n- Use `?tab=experiences` to get only experiences array\n- Use `?tab=occupations` to get only occupations array\n- Use `?tab=test_scores` to get only test_scores array\n\n**Data Source Logic:**\n- Basic details: Fetches from `admins` table if not updated, otherwise from `clientportal_details_audit` table\n- Phones: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_contacts` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_contacts` records based on ID or phone+type match (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_contacts` table\n  - **Case 5**: Default  Shows all from `client_contacts` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (phones updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Phones):**\n- Each phone record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_contacts` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Emails: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_emails` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_emails` records based on ID or email+type match (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_emails` table\n  - **Case 5**: Default  Shows all from `client_emails` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (emails updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Emails):**\n- Each email record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_emails` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Passports: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_passport_informations` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_passport_informations` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API with generated timestamp-based IDs, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_passport_informations` table\n  - **Case 5**: Default  Shows all from `client_passport_informations` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (passports updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field:**\n- Each passport record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_passport_informations` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table with generated timestamp-based ID)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Visas: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_visa_countries` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_visa_countries` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_visa_countries` table\n  - **Case 5**: Default  Shows all from `client_visa_countries` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (visas updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Visas):**\n- Each visa record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_visa_countries` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Addresses: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_addresses` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_addresses` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API with generated timestamp-based IDs, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_addresses` table\n  - **Case 5**: Default  Shows all from `client_addresses` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (addresses updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Addresses):**\n- Each address record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_addresses` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table with generated timestamp-based ID)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Travels: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_travel_informations` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_travel_informations` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API with generated timestamp-based IDs, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_travel_informations` table\n  - **Case 5**: Default  Shows all from `client_travel_informations` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (travels updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Travels):**\n- Each travel record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_travel_informations` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table with generated timestamp-based ID)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Qualifications: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_qualifications` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_qualifications` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API with generated timestamp-based IDs, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_qualifications` table\n  - **Case 5**: Default  Shows all from `client_qualifications` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (qualifications updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Qualifications):**\n- Each qualification record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_qualifications` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table with generated timestamp-based ID)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Experiences: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_experiences` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_experiences` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API with generated timestamp-based IDs, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_experiences` table\n  - **Case 5**: Default  Shows all from `client_experiences` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (experiences updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Experiences):**\n- Each experience record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_experiences` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table with generated timestamp-based ID)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Occupations: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_occupations` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_occupations` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API with generated timestamp-based IDs, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_occupations` table\n  - **Case 5**: Default  Shows all from `client_occupations` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (occupations updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Occupations):**\n- Each occupation record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_occupations` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table with generated timestamp-based ID)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n- Test Scores: Uses intelligent merging logic based on action types in `clientportal_details_audit` table:\n  - **Case 1**: No audit records  Shows all from `client_testscore` table (with `action: null`)\n  - **Case 2**: Action = `'update'`  Overwrites `client_testscore` records based on `meta_type` column (with `action: \"update\"`)\n  - **Case 3**: Action = `'create'`  Shows from `clientportal_details_audit` table (newly created via API with generated timestamp-based IDs, with `action: \"create\"`)\n  - **Case 4**: Action = `'delete'`  Excludes from audit table AND excludes related record with same ID from `client_testscore` table\n  - **Case 5**: Default  Shows all from `client_testscore` table when no update action found (with `action: null`)\n  - **Case 6**: Action = `'update'` (not in source table)  Shows from `clientportal_details_audit` table (test scores updated via API that don't exist in source table, with `action: \"update\"`)\n\n**Action Field (Test Scores):**\n- Each test score record includes an `action` field indicating its source:\n  - `action: null` - Record comes directly from `client_testscore` table (not modified via API)\n  - `action: \"update\"` - Record was updated via the API (from audit table)\n  - `action: \"create\"` - Record was created via the API (from audit table with generated timestamp-based ID)\n  - `action: \"delete\"` - Record was deleted (not shown in response; also excludes related record with same ID from source table)\n\n**Note:** This API does NOT insert records into `clientportal_details` or `clientportal_details_audit` tables. It only fetches data.\n\nPrimary email and phone are determined by type 'Personal' - the email/phone with type 'Personal' (case-insensitive) will have is_primary: true."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/get-client-personal-detail?tab=all",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get-client-personal-detail"
							],
							"query": [
								{
									"key": "tab",
									"value": "all"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Client personal details retrieved successfully\",\n    \"data\": {\n        \"basic_information\": {\n            \"first_name\": \"Vipul\",\n            \"last_name\": \"Kumar\",\n            \"name\": \"Vipul Kumar\",\n            \"full_name\": \"Vipul Kumar\",\n            \"client_id\": \"VIPL2400001\",\n            \"internal_client_id\": 36464,\n            \"date_of_birth\": \"22/03/1986\",\n            \"age\": \"39 years 8 months\",\n            \"gender\": \"Male\",\n            \"marital_status\": \"Married\"\n        },\n        \"phones\": [\n            {\n                \"id\": 123,\n                \"phone\": \"9872205642\",\n                \"type\": \"Personal\",\n                \"is_primary\": true,\n                \"country_code\": \"+91\",\n                \"extension\": null,\n                \"action\": null\n            },\n            {\n                \"id\": 124,\n                \"phone\": \"415877821\",\n                \"type\": \"Mobile\",\n                \"is_primary\": false,\n                \"country_code\": \"+61\",\n                \"extension\": null,\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"phone\": \"5551234567\",\n                \"type\": \"Work\",\n                \"is_primary\": false,\n                \"country_code\": \"+1\",\n                \"extension\": null,\n                \"action\": \"create\"\n            }\n        ],\n        \"emails\": [\n            {\n                \"id\": 101,\n                \"email\": \"viplucmca@yahoo.co.in\",\n                \"type\": \"Personal\",\n                \"is_primary\": true,\n                \"action\": null\n            },\n            {\n                \"id\": 102,\n                \"email\": \"viplucmca123@yahoo.co.in\",\n                \"type\": \"Work\",\n                \"is_primary\": false,\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"email\": \"newemail@example.com\",\n                \"type\": \"Work\",\n                \"is_primary\": false,\n                \"action\": \"create\"\n            }\n        ],\n        \"passports\": [\n            {\n                \"id\": 1,\n                \"passport_number\": \"545546543455\",\n                \"country\": \"Albania\",\n                \"issue_date\": \"03/10/2025\",\n                \"expiry_date\": \"18/10/2025\",\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"passport_number\": \"455454554\",\n                \"country\": \"Australia\",\n                \"issue_date\": \"21/10/2025\",\n                \"expiry_date\": \"25/10/2025\",\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"passport_number\": \"567890\",\n                \"country\": \"Australia\",\n                \"issue_date\": \"21/10/2025\",\n                \"expiry_date\": \"25/10/2025\",\n                \"action\": \"create\"\n            }\n        ],\n        \"visas\": [\n            {\n                \"id\": 1,\n                \"visa_country\": \"Australia\",\n                \"visa_type\": \"100-Partner Visa (PV 100)\",\n                \"visa_description\": \"Visa Desc75\",\n                \"visa_expiry_date\": \"30/06/2035\",\n                \"visa_grant_date\": \"01/06/2029\",\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"visa_country\": \"Albania\",\n                \"visa_type\": \"140\",\n                \"visa_description\": \"Visa Desc75\",\n                \"visa_expiry_date\": \"30/06/2035\",\n                \"visa_grant_date\": \"01/06/2029\",\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"visa_country\": \"New Zealand\",\n                \"visa_type\": \"200\",\n                \"visa_description\": \"New Visa\",\n                \"visa_expiry_date\": \"31/12/2030\",\n                \"visa_grant_date\": \"01/01/2025\",\n                \"action\": \"create\"\n            }\n        ],\n        \"addresses\": [\n            {\n                \"id\": 1,\n                \"search_address\": \"Kelly Road, Valley View, SA\",\n                \"address_line_1\": \"Kelly Road\",\n                \"address_line_2\": null,\n                \"suburb\": \"Valley View\",\n                \"state\": \"SA\",\n                \"postcode\": \"5093\",\n                \"country\": \"Australia\",\n                \"regional_code\": \"Regional City SA\",\n                \"start_date\": \"18/10/2023\",\n                \"end_date\": \"16/05/2025\",\n                \"is_current\": false,\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"search_address\": \"123 Main Street, Sydney, NSW\",\n                \"address_line_1\": \"123 Main Street\",\n                \"address_line_2\": \"Unit 5\",\n                \"suburb\": \"Sydney\",\n                \"state\": \"NSW\",\n                \"postcode\": \"2000\",\n                \"country\": \"Australia\",\n                \"regional_code\": null,\n                \"start_date\": \"01/01/2024\",\n                \"end_date\": null,\n                \"is_current\": true,\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"search_address\": \"456 Oak Avenue, Melbourne, VIC\",\n                \"address_line_1\": \"456 Oak Avenue\",\n                \"address_line_2\": null,\n                \"suburb\": \"Melbourne\",\n                \"state\": \"VIC\",\n                \"postcode\": \"3000\",\n                \"country\": \"Australia\",\n                \"regional_code\": null,\n                \"start_date\": \"01/06/2025\",\n                \"end_date\": null,\n                \"is_current\": false,\n                \"action\": \"create\"\n            }\n        ],\n        \"travels\": [\n            {\n                \"id\": 1,\n                \"country_visited\": \"India\",\n                \"arrival_date\": \"01/05/2024\",\n                \"departure_date\": \"30/06/2024\",\n                \"purpose\": \"Travel1\",\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"country_visited\": \"Australia\",\n                \"arrival_date\": \"01/01/2025\",\n                \"departure_date\": \"31/12/2025\",\n                \"purpose\": \"Business\",\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"country_visited\": \"New Zealand\",\n                \"arrival_date\": \"01/06/2025\",\n                \"departure_date\": \"30/06/2025\",\n                \"purpose\": \"Tourism\",\n                \"action\": \"create\"\n            }\n        ],\n        \"qualifications\": [\n            {\n                \"id\": 1,\n                \"level\": \"Masters Degree\",\n                \"name\": \"MCA\",\n                \"college_name\": \"BBDNITM\",\n                \"campus\": \"Lucknow\",\n                \"country\": \"India\",\n                \"state\": null,\n                \"start_date\": \"01/07/2006\",\n                \"finish_date\": \"30/06/2009\",\n                \"relevant_qualification\": true,\n                \"specialist_education\": false,\n                \"stem_qualification\": false,\n                \"regional_study\": false,\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"level\": \"Bachelors Degree\",\n                \"name\": \"B.Tech\",\n                \"college_name\": \"ABC University\",\n                \"campus\": \"Delhi\",\n                \"country\": \"India\",\n                \"state\": null,\n                \"start_date\": \"01/07/2002\",\n                \"finish_date\": \"30/06/2006\",\n                \"relevant_qualification\": true,\n                \"specialist_education\": false,\n                \"stem_qualification\": true,\n                \"regional_study\": false,\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"level\": \"PhD\",\n                \"name\": \"Computer Science\",\n                \"college_name\": \"XYZ University\",\n                \"campus\": \"Melbourne\",\n                \"country\": \"Australia\",\n                \"state\": null,\n                \"start_date\": \"01/01/2020\",\n                \"finish_date\": \"31/12/2023\",\n                \"relevant_qualification\": true,\n                \"specialist_education\": true,\n                \"stem_qualification\": true,\n                \"regional_study\": true,\n                \"action\": \"create\"\n            }\n        ],\n        \"experiences\": [\n            {\n                \"id\": 1,\n                \"job_title\": \"Senior Software Engineer\",\n                \"job_code\": \"123456\",\n                \"country\": \"India\",\n                \"start_date\": \"26/12/2024\",\n                \"finish_date\": \"26/12/2027\",\n                \"relevant_experience\": true,\n                \"employer_name\": \"Bansal Immigration\",\n                \"state\": null,\n                \"job_type\": \"Full-time\",\n                \"fte_multiplier\": 1.00,\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"job_title\": \"Software Developer\",\n                \"job_code\": \"789012\",\n                \"country\": \"Australia\",\n                \"start_date\": \"01/01/2020\",\n                \"finish_date\": \"31/12/2023\",\n                \"relevant_experience\": true,\n                \"employer_name\": \"Tech Corp\",\n                \"state\": \"NSW\",\n                \"job_type\": \"Full-time\",\n                \"fte_multiplier\": 1.00,\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"job_title\": \"Lead Developer\",\n                \"job_code\": \"345678\",\n                \"country\": \"Australia\",\n                \"start_date\": \"01/01/2025\",\n                \"finish_date\": null,\n                \"relevant_experience\": true,\n                \"employer_name\": \"Startup Inc\",\n                \"state\": \"VIC\",\n                \"job_type\": \"Full-time\",\n                \"fte_multiplier\": 1.00,\n                \"action\": \"create\"\n            }\n        ],\n        \"occupations\": [\n            {\n                \"id\": 1,\n                \"skill_assessment\": \"Yes\",\n                \"nominated_occupation\": \"Statistician\",\n                \"occupation_code\": \"224113\",\n                \"assessing_authority\": \"VETASSESS\",\n                \"visa_subclass\": null,\n                \"assessment_date\": \"17/10/2025\",\n                \"expiry_date\": \"19/10/2028\",\n                \"reference_no\": \"ref_2\",\n                \"relevant_occupation\": true,\n                \"anzsco_occupation_id\": null,\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"skill_assessment\": \"Yes\",\n                \"nominated_occupation\": \"Software Engineer\",\n                \"occupation_code\": \"261313\",\n                \"assessing_authority\": \"ACS\",\n                \"visa_subclass\": null,\n                \"assessment_date\": \"01/01/2025\",\n                \"expiry_date\": \"31/12/2027\",\n                \"reference_no\": \"ref_3\",\n                \"relevant_occupation\": true,\n                \"anzsco_occupation_id\": 30,\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"skill_assessment\": \"Yes\",\n                \"nominated_occupation\": \"Data Scientist\",\n                \"occupation_code\": \"224712\",\n                \"assessing_authority\": \"VETASSESS\",\n                \"visa_subclass\": null,\n                \"assessment_date\": \"01/06/2025\",\n                \"expiry_date\": \"31/05/2028\",\n                \"reference_no\": \"ref_4\",\n                \"relevant_occupation\": true,\n                \"anzsco_occupation_id\": 31,\n                \"action\": \"create\"\n            }\n        ],\n        \"test_scores\": [\n            {\n                \"id\": 1,\n                \"test_type\": \"IELTS Academic\",\n                \"listening\": 8.0,\n                \"reading\": 8.0,\n                \"writing\": 8.0,\n                \"speaking\": 8.0,\n                \"overall_score\": 8.0,\n                \"test_date\": \"10/05/2025\",\n                \"reference_no\": \"ref_2\",\n                \"relevant_test\": true,\n                \"action\": null\n            },\n            {\n                \"id\": 2,\n                \"test_type\": \"PTE Academic\",\n                \"listening\": 85.0,\n                \"reading\": 88.0,\n                \"writing\": 82.0,\n                \"speaking\": 87.0,\n                \"overall_score\": 85.5,\n                \"test_date\": \"15/06/2025\",\n                \"reference_no\": \"ref_3\",\n                \"relevant_test\": true,\n                \"action\": \"update\"\n            },\n            {\n                \"id\": 1735123456,\n                \"test_type\": \"TOEFL iBT\",\n                \"listening\": 28.0,\n                \"reading\": 29.0,\n                \"writing\": 27.0,\n                \"speaking\": 26.0,\n                \"overall_score\": 110.0,\n                \"test_date\": \"20/07/2025\",\n                \"reference_no\": \"ref_4\",\n                \"relevant_test\": true,\n                \"action\": \"create\"\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/get-client-personal-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get-client-personal-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/get-client-personal-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get-client-personal-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				},
				{
					"name": "Tab Filter - Basic Information Only",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/get-client-personal-detail?tab=basic_information",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get-client-personal-detail"
							],
							"query": [
								{
									"key": "tab",
									"value": "basic_information"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Client personal details retrieved successfully\",\n    \"data\": {\n        \"basic_information\": {\n            \"first_name\": \"Vipul\",\n            \"last_name\": \"Kumar\",\n            \"name\": \"Vipul Kumar\",\n            \"full_name\": \"Vipul Kumar\",\n            \"client_id\": \"VIPL2400001\",\n            \"internal_client_id\": 36464,\n            \"date_of_birth\": \"22/03/1986\",\n            \"age\": \"39 years 8 months\",\n            \"gender\": \"Male\",\n            \"marital_status\": \"Married\"\n        }\n    }\n}"
				},
				{
					"name": "Tab Filter - Phones Only",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/get-client-personal-detail?tab=phones",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get-client-personal-detail"
							],
							"query": [
								{
									"key": "tab",
									"value": "phones"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Client personal details retrieved successfully\",\n    \"data\": {\n        \"phones\": [\n            {\n                \"id\": 123,\n                \"phone\": \"9872205642\",\n                \"type\": \"Personal\",\n                \"is_primary\": true,\n                \"country_code\": \"+91\",\n                \"extension\": null\n            },\n            {\n                \"id\": 124,\n                \"phone\": \"415877821\",\n                \"type\": \"Mobile\",\n                \"is_primary\": false,\n                \"country_code\": \"+61\",\n                \"extension\": null\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Tab Filter - Emails Only",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/get-client-personal-detail?tab=emails",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get-client-personal-detail"
							],
							"query": [
								{
									"key": "tab",
									"value": "emails"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Client personal details retrieved successfully\",\n    \"data\": {\n        \"emails\": [\n            {\n                \"id\": 101,\n                \"email\": \"viplucmca@yahoo.co.in\",\n                \"type\": \"Personal\",\n                \"is_primary\": true\n            },\n            {\n                \"id\": 102,\n                \"email\": \"viplucmca123@yahoo.co.in\",\n                \"type\": \"Work\",\n                \"is_primary\": false\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Invalid Tab Parameter",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/get-client-personal-detail?tab=invalid",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"get-client-personal-detail"
							],
							"query": [
								{
									"key": "tab",
									"value": "invalid"
								}
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Invalid tab parameter. Valid values are: all, basic_information, phones, emails, passports, visas, addresses, travels, qualifications, experiences, occupations, test_scores\"\n}"
				}
			]
		},
		{
			"name": "31. Update Client Basic Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"first_name\": \"Vipul\",\n    \"last_name\": \"Kumar\",\n    \"date_of_birth\": \"22/03/1986\",\n    \"gender\": \"Male\",\n    \"marital_status\": \"Married\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-basic-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-basic-detail"
					]
				},
				"description": "Update authenticated client's basic personal details. Allows updating first_name, last_name, date_of_birth (dd/mm/yyyy format), gender, and marital_status. Only updated fields will be saved to `clientportal_details_audit` table. The `clientportal_details` table will NOT be used for these updates. Age is automatically recalculated when date_of_birth is updated. Note: client_id is readonly and cannot be updated - any client_id value in the request will be ignored."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"Vipul\",\n    \"last_name\": \"Kumar\",\n    \"date_of_birth\": \"22/03/1986\",\n    \"gender\": \"Male\",\n    \"marital_status\": \"Married\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-basic-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-basic-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Client basic details updated successfully\",\n    \"data\": {\n        \"updated_fields\": {\n            \"first_name\": \"Vipul\",\n            \"last_name\": \"Kumar\",\n            \"dob\": \"1986-03-22\",\n            \"age\": \"39 years 8 months\",\n            \"gender\": \"Male\",\n            \"marital_status\": \"Married\"\n        }\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"first_name\": \"\",\n    \"date_of_birth\": \"invalid-date\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-basic-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-basic-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"date_of_birth\": [\n            \"The date of birth does not match the format d/m/Y.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-basic-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-basic-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-basic-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-basic-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "32. Update Client Phone Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"phones\": [\n        {\n            \"id\": 123,\n            \"phone\": \"9872205642\",\n            \"type\": \"Personal\",\n            \"country_code\": \"+91\"\n        },\n        {\n            \"id\": 124,\n            \"phone\": \"415877821\",\n            \"type\": \"Mobile\",\n            \"country_code\": \"+61\"\n        },\n        {\n            \"id\": null,\n            \"phone\": \"1234567890\",\n            \"type\": \"Work\",\n            \"country_code\": \"+61\"\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-phone-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-phone-detail"
					]
				},
				"description": "Update authenticated client's phone numbers. Allows updating existing phone numbers and adding new ones. Phones are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each phone.\n- When updating an existing phone (with ID), the existing `meta_order` value is preserved.\n- When creating a new phone (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `phones` (required, array, min: 1)\n- `phones.*.id` (required, present, nullable, integer) - Use `null` for new phones or provide existing phone ID for updates\n- `phones.*.phone` (required, string, max: 255)\n- `phones.*.type` (required, string, in: Personal, Mobile, Work, Home, Other)\n- `phones.*.country_code` (optional, string, max: 10)\n- `phones.*.extension` (optional, string, max: 10)\n\n**Validation Rules:**\n1) Personal phone number cannot be updated (readonly - phone number, country_code, and extension cannot be changed)\n2) Only one Personal phone number is allowed per client\n3) Cannot add a new Personal phone if one already exists\n4) Cannot have more than one Personal phone in the same request\n5) Personal phone numbers must be unique across the system (checked in admins table and client_contacts table)\n\nIf Personal phone exists but is not included in the request, it will be automatically preserved.\n\n**Response:**\n- For new phones (id: null), the response will include the generated `id` in the returned phone object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"phones\": [\n        {\n            \"id\": 123,\n            \"phone\": \"9872205642\",\n            \"type\": \"Personal\",\n            \"country_code\": \"+91\"\n        },\n        {\n            \"id\": 124,\n            \"phone\": \"415877821\",\n            \"type\": \"Mobile\",\n            \"country_code\": \"+61\"\n        },\n        {\n            \"id\": null,\n            \"phone\": \"1234567890\",\n            \"type\": \"Work\",\n            \"country_code\": \"+61\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-phone-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-phone-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Phone numbers updated successfully\",\n    \"data\": {\n        \"phones\": [\n            {\n                \"id\": 123,\n                \"phone\": \"9872205642\",\n                \"type\": \"Personal\",\n                \"country_code\": \"+91\",\n                \"extension\": null\n            },\n            {\n                \"id\": 124,\n                \"phone\": \"415877821\",\n                \"type\": \"Mobile\",\n                \"country_code\": \"+61\",\n                \"extension\": null,\n                \"action\": \"updated\"\n            },\n            {\n                \"id\": 1735123456,\n                \"phone\": \"1234567890\",\n                \"type\": \"Work\",\n                \"country_code\": \"+61\",\n                \"extension\": null\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"phones\": [\n        {\n            \"phone\": \"\",\n            \"type\": \"Invalid\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-phone-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-phone-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"phones.0.phone\": [\n            \"The phones.0.phone field is required.\"\n        ],\n        \"phones.0.type\": [\n            \"The selected phones.0.type is invalid.\"\n        ]\n    }\n}"
				},
				{
					"name": "Cannot Update Personal Phone",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"phones\": [\n        {\n            \"id\": 123,\n            \"phone\": \"9999999999\",\n            \"type\": \"Personal\",\n            \"country_code\": \"+91\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-phone-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-phone-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"phones.0.phone\": [\n            \"Personal phone number cannot be updated. It is readonly.\"\n        ]\n    }\n}"
				},
				{
					"name": "Cannot Add Second Personal Phone",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"phones\": [\n        {\n            \"phone\": \"9872205642\",\n            \"type\": \"Personal\",\n            \"country_code\": \"+91\"\n        },\n        {\n            \"phone\": \"9999999999\",\n            \"type\": \"Personal\",\n            \"country_code\": \"+91\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-phone-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-phone-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"phones\": [\n            \"Cannot add another Personal phone number. Only one Personal phone number is allowed.\"\n        ],\n        \"phones.1.type\": [\n            \"Cannot add another Personal phone number. Personal phone already exists.\"\n        ]\n    }\n}"
				},
				{
					"name": "Duplicate Personal Phone Number",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"phones\": [\n        {\n            \"phone\": \"9872205642\",\n            \"type\": \"Personal\",\n            \"country_code\": \"+91\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-phone-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-phone-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"phones.0.phone\": [\n            \"This Personal phone number already exists in the system. Personal phone numbers must be unique.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-phone-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-phone-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-phone-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-phone-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "33. Get Countries",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/countries",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"countries"
					],
					"query": [
						{
							"key": "status",
							"value": "",
							"description": "Optional: Filter by status (0 = Disable, 1 = Enable)",
							"disabled": true
						}
					]
				},
				"description": "Get list of all countries. Returns countries with India and Australia at the top, followed by others alphabetically. Only returns country name."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/countries",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"countries"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Countries retrieved successfully\",\n    \"data\": [\n        {\n            \"name\": \"India\"\n        },\n        {\n            \"name\": \"Australia\"\n        },\n        {\n            \"name\": \"Afghanistan\"\n        },\n        {\n            \"name\": \"Albania\"\n        },\n        {\n            \"name\": \"Algeria\"\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "34. Get Visa Types",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/visa-types",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"visa-types"
					]
				},
				"description": "Get list of visa types from Matter table. Excludes entries with 'skill assessment' in title. Only returns active visa types (status = 1)."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/visa-types",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"visa-types"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Visa types retrieved successfully\",\n    \"data\": [\n        {\n            \"id\": 1,\n            \"title\": \"Skilled Independent Visa (Subclass 189)\",\n            \"nick_name\": \"189\"\n        },\n        {\n            \"id\": 2,\n            \"title\": \"Skilled Nominated Visa (Subclass 190)\",\n            \"nick_name\": \"190\"\n        },\n        {\n            \"id\": 3,\n            \"title\": \"Partner Visa (Subclass 820/801)\",\n            \"nick_name\": \"820/801\"\n        }\n    ]\n}"
				}
			]
		},
		{
			"name": "35. Search Occupation",
			"request": {
				"method": "GET",
				"header": [
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"url": {
					"raw": "{{base_url}}/search-occupation?q=st&limit=20",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"search-occupation"
					],
					"query": [
						{
							"key": "q",
							"value": "st",
							"description": "Search query (required, minimum 2 characters)"
						},
						{
							"key": "limit",
							"value": "20",
							"description": "Maximum number of results (optional, default: 20, max: 50)",
							"disabled": true
						}
					]
				},
				"description": "Search occupations by ANZSCO code or occupation title. Requires at least 2 characters in the search query. Searches in anzsco_code, occupation_title, normalized title, and alternate_titles. Returns only active occupations. Uses the same search logic as the website endpoint /anzsco/search."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/search-occupation?q=st",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"search-occupation"
							],
							"query": [
								{
									"key": "q",
									"value": "st"
								}
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Occupations retrieved successfully\",\n    \"data\": [\n        {\n            \"id\": 123,\n            \"anzsco_code\": \"224113\",\n            \"occupation_title\": \"Statistician\",\n            \"assessing_authority\": \"VETASSESS\",\n            \"assessment_validity_years\": 3,\n            \"lists\": [\"MLTSSL\"],\n            \"lists_string\": \"MLTSSL\",\n            \"label\": \"Statistician (224113)\",\n            \"value\": \"Statistician\"\n        },\n        {\n            \"id\": 124,\n            \"anzsco_code\": \"261313\",\n            \"occupation_title\": \"Software Engineer\",\n            \"assessing_authority\": \"ACS\",\n            \"assessment_validity_years\": 3,\n            \"lists\": [\"MLTSSL\", \"ROL\"],\n            \"lists_string\": \"MLTSSL, ROL\",\n            \"label\": \"Software Engineer (261313)\",\n            \"value\": \"Software Engineer\"\n        }\n    ]\n}"
				},
				{
					"name": "Query Too Short",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/search-occupation?q=s",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"search-occupation"
							],
							"query": [
								{
									"key": "q",
									"value": "s"
								}
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Search query must be at least 2 characters\"\n}"
				},
				{
					"name": "Empty Query",
					"originalRequest": {
						"method": "GET",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/search-occupation",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"search-occupation"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Search query must be at least 2 characters\"\n}"
				}
			]
		},
		{
			"name": "36. Update Client Passport Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"passports\": [\n        {\n            \"id\": 123,\n            \"passport_number\": \"545546543455\",\n            \"country\": \"Albania\",\n            \"issue_date\": \"03/10/2025\",\n            \"expiry_date\": \"18/10/2025\"\n        },\n        {\n            \"id\": null,\n            \"passport_number\": \"455454554\",\n            \"country\": \"Australia\",\n            \"issue_date\": \"21/10/2025\",\n            \"expiry_date\": \"25/10/2025\"\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-passport-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-passport-detail"
					]
				},
				"description": "Update authenticated client's passport information. Requires at least one passport entry. Each passport must have: passport_number (required), country (optional), issue_date (optional, format: dd/mm/yyyy), expiry_date (optional, format: dd/mm/yyyy, must be after or equal to issue_date).\n\n**ID Field (Required):**\n- The `id` field is **MANDATORY** for each passport entry (must be present in the request).\n- To **update an existing passport**: Provide the passport ID (integer). The ID should match the original record ID from the source table or from a previous GET response. Example: `\"id\": 7757`\n  - Action will be set to `'update'` in the audit table\n- To **create a new passport**: Provide `null` for the ID. Example: `\"id\": null`\n  - A unique timestamp-based 10-digit ID will be automatically generated (e.g., `1735123456`)\n  - Action will be set to `'create'` in the audit table\n  - The generated ID will be returned in the response for future updates\n- When updating with ID, only the specific passport's audit entries will be updated, preserving other passports.\n- When creating new (with `id: null`), new audit entries will be created with the generated ID.\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each passport.\n- When updating an existing passport (with ID), the existing `meta_order` value is preserved.\n- When creating a new passport (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Safety:** This prevents accidental deletion of all passports. The `id` field must always be explicitly provided.\n\n**Response:** The response includes the `id` field for each passport (original ID for updates, generated ID for new records), allowing you to track and update specific records in subsequent requests.\n\n**Note:** The response from this endpoint does not include the `action` field. To see the `action` field (`null`, `\"update\"`, or `\"create\"`), use the `get-client-personal-detail` endpoint which will show the action status for each passport record."
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"passports\": [\n        {\n            \"id\": 123,\n            \"passport_number\": \"545546543455\",\n            \"country\": \"Albania\",\n            \"issue_date\": \"03/10/2025\",\n            \"expiry_date\": \"18/10/2025\"\n        },\n        {\n            \"id\": null,\n            \"passport_number\": \"455454554\",\n            \"country\": \"Australia\",\n            \"issue_date\": \"21/10/2025\",\n            \"expiry_date\": \"25/10/2025\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Passport details updated successfully\",\n    \"data\": {\n        \"passports\": [\n            {\n                \"id\": 123,\n                \"passport_number\": \"545546543455\",\n                \"country\": \"Albania\",\n                \"issue_date\": \"03/10/2025\",\n                \"expiry_date\": \"18/10/2025\"\n            },\n            {\n                \"id\": 1735123456,\n                \"passport_number\": \"455454554\",\n                \"country\": \"Australia\",\n                \"issue_date\": \"21/10/2025\",\n                \"expiry_date\": \"25/10/2025\"\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"passports\": [\n        {\n            \"id\": null,\n            \"passport_number\": \"\",\n            \"country\": \"Albania\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"passports.0.passport_number\": [\n            \"The passports.0.passport_number field is required.\"\n        ]\n    }\n}"
				},
				{
					"name": "Invalid Date Format",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"passports\": [\n        {\n            \"id\": 123,\n            \"passport_number\": \"545546543455\",\n            \"country\": \"Albania\",\n            \"issue_date\": \"2025-10-03\",\n            \"expiry_date\": \"2025-10-18\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"passports.0.issue_date\": [\n            \"Issue date must be in dd/mm/yyyy format.\"\n        ],\n        \"passports.0.expiry_date\": [\n            \"Expiry date must be in dd/mm/yyyy format.\"\n        ]\n    }\n}"
				},
				{
					"name": "Expiry Date Before Issue Date",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"passports\": [\n        {\n            \"id\": 123,\n            \"passport_number\": \"545546543455\",\n            \"country\": \"Albania\",\n            \"issue_date\": \"18/10/2025\",\n            \"expiry_date\": \"03/10/2025\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"passports.0.expiry_date\": [\n            \"Expiry date must be after or equal to issue date.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Update Existing Passport with ID",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"passports\": [\n        {\n            \"id\": 123,\n            \"passport_number\": \"UPDATED123456\",\n            \"country\": \"India\",\n            \"issue_date\": \"01/01/2020\",\n            \"expiry_date\": \"01/01/2030\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Passport details updated successfully\",\n    \"data\": {\n        \"passports\": [\n            {\n                \"id\": 123,\n                \"passport_number\": \"UPDATED123456\",\n                \"country\": \"India\",\n                \"issue_date\": \"01/01/2020\",\n                \"expiry_date\": \"01/01/2030\"\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Missing ID Field",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"passports\": [\n        {\n            \"passport_number\": \"545546543455\",\n            \"country\": \"Albania\",\n            \"issue_date\": \"03/10/2025\",\n            \"expiry_date\": \"18/10/2025\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"passports.0.id\": [\n            \"Passport ID field is required for each passport. Use null for new passports or provide the existing passport ID.\"\n        ]\n    }\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-passport-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-passport-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "37. Delete Client Tab Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"id\": 123,\n    \"type\": \"passport\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/delete-client-tab-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"delete-client-tab-detail"
					]
				},
				"description": "Unified API to delete authenticated client's information by type and ID.\n\n**Request Parameters:**\n- `id` (required, integer): The record ID to delete. This should match the ID from the source table or from a previous GET/UPDATE response.\n- `type` (required, string): The type of record to delete. **Possible values (case-sensitive):**\n  - `\"passport\"` - Delete passport record\n  - `\"phone\"` - Delete phone record\n  - `\"email\"` - Delete email record\n  - `\"address\"` - Delete address record\n  - `\"travel\"` - Delete travel record\n  - `\"qualification\"` - Delete qualification record\n  - `\"experience\"` - Delete experience record\n  - `\"occupation\"` - Delete occupation record\n  - `\"testscore\"` - Delete test score record\n  - `\"visa\"` - Delete visa record\n\n**All Types Implementation Status:**\n-  `passport` - Fully implemented\n-  `phone` - Fully implemented\n-  `email` - Fully implemented\n-  `address` - Fully implemented\n-  `travel` - Fully implemented\n-  `qualification` - Fully implemented\n-  `experience` - Fully implemented\n-  `occupation` - Fully implemented\n-  `testscore` - Fully implemented\n-  `visa` - Fully implemented\n\n**Logic Flow:**\n1. **If record exists in audit table**: Updates the `action` column to `'delete'` for all related entries (same `meta_order`) where `meta_type` matches the provided ID and `client_id` matches the authenticated user's ID.\n2. **If record doesn't exist in audit table**: Checks the source table for the record ID.\n   - **If exists in source table**: Retrieves all record data and inserts it into `clientportal_details_audit` table with `action='delete'`.\n   - **If doesn't exist in source table**: Returns error message \"[Type] ID does not exist\".\n\n**Response:**\n- **Success (from audit table)**: Returns the record ID, type, and action='delete'.\n- **Success (from source table)**: Returns the full record data with action='delete'.\n- **Error**: Returns appropriate error messages for validation failures, non-existent IDs, or unimplemented types.\n\n**Note:** After deletion, the record will not appear in the `get-client-personal-detail` API response (Case 4: Action = 'delete' excludes the record from both audit and source table results)."
			},
			"response": [
				{
					"name": "Success Response (From Audit Table)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 123,\n    \"type\": \"passport\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/delete-client-tab-detail",
							"host": [
								"{{base_url}}"
							],
						"path": [
							"delete-client-tab-detail"
						]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Passport deleted successfully\",\n    \"data\": {\n        \"id\": 123,\n        \"type\": \"passport\",\n        \"action\": \"delete\"\n    }\n}"
				},
				{
					"name": "Success Response (From Source Table)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 123,\n    \"type\": \"passport\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/delete-client-tab-detail",
							"host": [
								"{{base_url}}"
							],
						"path": [
							"delete-client-tab-detail"
						]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Passport deleted successfully\",\n    \"data\": {\n        \"id\": 123,\n        \"type\": \"passport\",\n        \"passport_number\": \"545546543455\",\n        \"country\": \"Albania\",\n        \"issue_date\": \"03/10/2025\",\n        \"expiry_date\": \"18/10/2025\",\n        \"action\": \"delete\"\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/delete-client-tab-detail",
							"host": [
								"{{base_url}}"
							],
						"path": [
							"delete-client-tab-detail"
						]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"id\": [\n            \"ID is required.\"\n        ],\n        \"type\": [\n            \"Type is required.\"\n        ]\n    }\n}"
				},
				{
					"name": "Passport ID Not Found",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 99999\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/delete-client-tab-detail",
							"host": [
								"{{base_url}}"
							],
						"path": [
							"delete-client-tab-detail"
						]
						}
					},
					"status": "Not Found",
					"code": 404,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Passport ID does not exist\"\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/delete-client-tab-detail",
							"host": [
								"{{base_url}}"
							],
						"path": [
							"delete-client-tab-detail"
						]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"id\": 123,\n    \"type\": \"passport\"\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/delete-client-tab-detail",
							"host": [
								"{{base_url}}"
							],
						"path": [
							"delete-client-tab-detail"
						]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "38. Update Client Visa Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"visas\": [\n        {\n            \"id\": null,\n            \"visa_type\": 100,\n            \"visa_country\": \"Australia\",\n            \"visa_description\": \"Visa Desc75\",\n            \"visa_expiry_date\": \"30/06/2035\",\n            \"visa_grant_date\": \"01/06/2029\"\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-visa-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-visa-detail"
					]
				},
				"description": "Update authenticated client's visa information. Visas are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each visa.\n- When updating an existing visa (with ID), the existing `meta_order` value is preserved.\n- When creating a new visa (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `visas` (required, array, min: 1)\n- `visas.*.id` (required, present, nullable, integer) - Use `null` for new visas or provide existing visa ID for updates\n- `visas.*.visa_type` (optional, integer)\n- `visas.*.visa_country` (optional, string, max: 255)\n- `visas.*.visa_description` (optional, string, max: 255)\n- `visas.*.visa_expiry_date` (optional, date_format: dd/mm/yyyy)\n- `visas.*.visa_grant_date` (optional, date_format: dd/mm/yyyy)\n\n**Validation Rules:**\n- At least one visa entry is required\n- Each visa must have at least `visa_type` OR `visa_country`\n\n**Response:**\n- For new visas (id: null), the response will include the generated `id` in the returned visa object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"visas\": [\n        {\n            \"id\": 123,\n            \"visa_type\": 100,\n            \"visa_country\": \"Australia\",\n            \"visa_description\": \"Visa Desc75\",\n            \"visa_expiry_date\": \"30/06/2035\",\n            \"visa_grant_date\": \"01/06/2029\"\n        },\n        {\n            \"id\": null,\n            \"visa_type\": 200,\n            \"visa_country\": \"New Zealand\",\n            \"visa_description\": \"New Visa\",\n            \"visa_expiry_date\": \"31/12/2030\",\n            \"visa_grant_date\": \"01/01/2025\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-visa-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-visa-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
                    "body": "{\n    \"success\": true,\n    \"message\": \"Visa details updated successfully\",\n    \"data\": {\n        \"visas\": [\n            {\n                \"id\": 123,\n                \"visa_type\": 100,\n                \"visa_country\": \"Australia\",\n                \"visa_description\": \"Visa Desc75\",\n                \"visa_expiry_date\": \"30/06/2035\",\n                \"visa_grant_date\": \"01/06/2029\"\n            },\n            {\n                \"id\": 1735123456,\n                \"visa_type\": 200,\n                \"visa_country\": \"New Zealand\",\n                \"visa_description\": \"New Visa\",\n                \"visa_expiry_date\": \"31/12/2030\",\n                \"visa_grant_date\": \"01/01/2025\"\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error - Missing Required Fields",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"visas\": [\n        {\n            \"id\": null,\n            \"visa_description\": \"Some description\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-visa-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-visa-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"visas.0.visa_type\": [\n            \"Either visa_type or visa_country must be provided for each visa entry.\"\n        ]\n    }\n}"
				},
				{
					"name": "Invalid Date Format",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"visas\": [\n        {\n            \"id\": null,\n            \"visa_type\": 100,\n            \"visa_expiry_date\": \"2035-06-30\",\n            \"visa_grant_date\": \"2029-06-01\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-visa-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-visa-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"visas.0.visa_expiry_date\": [\n            \"Visa expiry date must be in dd/mm/yyyy format.\"\n        ],\n        \"visas.0.visa_grant_date\": [\n            \"Visa grant date must be in dd/mm/yyyy format.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-visa-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-visa-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-visa-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-visa-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "38. Update Client Email Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"emails\": [\n        {\n            \"id\": 123,\n            \"email\": \"client@example.com\",\n            \"type\": \"Personal\"\n        },\n        {\n            \"id\": 124,\n            \"email\": \"work@example.com\",\n            \"type\": \"Work\"\n        },\n        {\n            \"id\": null,\n            \"email\": \"home@example.com\",\n            \"type\": \"Home\"\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-email-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-email-detail"
					]
				},
				"description": "Update authenticated client's email addresses. Allows updating existing emails and adding new ones. Emails are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each email.\n- When updating an existing email (with ID), the existing `meta_order` value is preserved.\n- When creating a new email (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `emails` (required, array, min: 1)\n- `emails.*.id` (required, present, nullable, integer) - Use `null` for new emails or provide existing email ID for updates\n- `emails.*.email` (required, email, max: 255)\n- `emails.*.type` (required, string, in: Personal, Work, Home, Other)\n\n**Validation Rules:**\n1) Only one Personal email is allowed per client\n2) Personal email address cannot be updated (readonly)\n3) Cannot add a new Personal email if one already exists\n4) Cannot have more than one Personal email in the same request\n5) Personal emails must be unique across the system (checked in admins table and client_emails table)\n\nIf Personal email exists but is not included in the request, it will be automatically preserved.\n\n**Response:**\n- For new emails (id: null), the response will include the generated `id` in the returned email object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"emails\": [\n        {\n            \"id\": 123,\n            \"email\": \"client@example.com\",\n            \"type\": \"Personal\"\n        },\n        {\n            \"id\": 124,\n            \"email\": \"work@example.com\",\n            \"type\": \"Work\"\n        },\n        {\n            \"id\": null,\n            \"email\": \"home@example.com\",\n            \"type\": \"Home\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-email-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-email-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Email details updated successfully\",\n    \"data\": {\n        \"emails\": [\n            {\n                \"id\": 123,\n                \"email\": \"client@example.com\",\n                \"type\": \"Personal\",\n                \"action\": \"readonly\"\n            },\n            {\n                \"id\": 124,\n                \"email\": \"work@example.com\",\n                \"type\": \"Work\",\n                \"action\": \"updated\"\n            },\n            {\n                \"id\": null,\n                \"email\": \"home@example.com\",\n                \"type\": \"Home\",\n                \"action\": \"created\"\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"emails\": [\n        {\n            \"email\": \"\",\n            \"type\": \"Invalid\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-email-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-email-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"emails.0.email\": [\n            \"The emails.0.email field is required.\",\n            \"The emails.0.email must be a valid email address.\"\n        ],\n        \"emails.0.type\": [\n            \"The selected emails.0.type is invalid.\"\n        ]\n    }\n}"
				},
				{
					"name": "Cannot Update Personal Email",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"emails\": [\n        {\n            \"id\": 123,\n            \"email\": \"newemail@example.com\",\n            \"type\": \"Personal\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-email-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-email-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"emails.0.email\": [\n            \"Personal email address cannot be updated. It is readonly.\"\n        ]\n    }\n}"
				},
				{
					"name": "Cannot Add Second Personal Email",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"emails\": [\n        {\n            \"email\": \"client@example.com\",\n            \"type\": \"Personal\"\n        },\n        {\n            \"email\": \"another@example.com\",\n            \"type\": \"Personal\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-email-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-email-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"emails\": [\n            \"Cannot add another Personal email. Only one Personal email is allowed.\"\n        ],\n        \"emails.1.type\": [\n            \"Cannot add another Personal email. Personal email already exists.\"\n        ]\n    }\n}"
				},
				{
					"name": "Duplicate Personal Email",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"emails\": [\n        {\n            \"email\": \"existing@example.com\",\n            \"type\": \"Personal\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-email-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-email-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"emails.0.email\": [\n            \"This Personal email address already exists in the system. Personal emails must be unique.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-email-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-email-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-email-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-email-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "39. Update Client Address Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"addresses\": [\n        {\n            \"id\": 123,\n            \"search_address\": \"Kelly Road, Valley View, SA\",\n            \"address_line_1\": \"Kelly Road\",\n            \"address_line_2\": \"\",\n            \"suburb\": \"Valley View\",\n            \"state\": \"SA\",\n            \"postcode\": \"5093\",\n            \"country\": \"Australia\",\n            \"regional_code\": \"Regional City SA\",\n            \"start_date\": \"18/10/2023\",\n            \"end_date\": \"16/05/2025\",\n            \"is_current\": true\n        },\n        {\n            \"id\": null,\n            \"search_address\": \"456 Oak Avenue, Melbourne, VIC\",\n            \"address_line_1\": \"456 Oak Avenue\",\n            \"address_line_2\": null,\n            \"suburb\": \"Melbourne\",\n            \"state\": \"VIC\",\n            \"postcode\": \"3000\",\n            \"country\": \"Australia\",\n            \"regional_code\": null,\n            \"start_date\": \"01/06/2025\",\n            \"end_date\": null,\n            \"is_current\": false\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-address-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-address-detail"
					]
				},
				"description": "Update authenticated client's address information. Allows updating existing addresses and adding new ones. Addresses are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each address.\n- When updating an existing address (with ID), the existing `meta_order` value is preserved.\n- When creating a new address (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `addresses` (required, array, min: 1)\n- `addresses.*.id` (required, present, nullable, integer) - Use `null` for new addresses or provide existing address ID for updates\n- `addresses.*.search_address` (optional, string, max: 500)\n- `addresses.*.address_line_1` (required, string, max: 255)\n- `addresses.*.address_line_2` (optional, string, max: 255)\n- `addresses.*.suburb` (required, string, max: 100)\n- `addresses.*.state` (required, string, max: 100)\n- `addresses.*.postcode` (required, string, max: 20)\n- `addresses.*.country` (required, string, max: 100)\n- `addresses.*.regional_code` (optional, string, max: 255)\n- `addresses.*.start_date` (optional, date_format: dd/mm/yyyy)\n- `addresses.*.end_date` (optional, date_format: dd/mm/yyyy)\n- `addresses.*.is_current` (optional, boolean)\n\n**Validation Rules:**\n- End date must be after or equal to start date\n- Address ID field must always be present (can be null for new records)\n\n**Response:**\n- For new addresses (id: null), the response will include the generated `id` in the returned address object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"addresses\": [\n        {\n            \"id\": 123,\n            \"search_address\": \"Kelly Road, Valley View, SA\",\n            \"address_line_1\": \"Kelly Road\",\n            \"address_line_2\": \"\",\n            \"suburb\": \"Valley View\",\n            \"state\": \"SA\",\n            \"postcode\": \"5093\",\n            \"country\": \"Australia\",\n            \"regional_code\": \"Regional City SA\",\n            \"start_date\": \"18/10/2023\",\n            \"end_date\": \"16/05/2025\",\n            \"is_current\": true\n        },\n        {\n            \"id\": null,\n            \"search_address\": \"456 Oak Avenue, Melbourne, VIC\",\n            \"address_line_1\": \"456 Oak Avenue\",\n            \"address_line_2\": null,\n            \"suburb\": \"Melbourne\",\n            \"state\": \"VIC\",\n            \"postcode\": \"3000\",\n            \"country\": \"Australia\",\n            \"regional_code\": null,\n            \"start_date\": \"01/06/2025\",\n            \"end_date\": null,\n            \"is_current\": false\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-address-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-address-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Address details updated successfully\",\n    \"data\": {\n        \"addresses\": [\n            {\n                \"id\": 123,\n                \"search_address\": \"Kelly Road, Valley View, SA\",\n                \"address_line_1\": \"Kelly Road\",\n                \"address_line_2\": null,\n                \"suburb\": \"Valley View\",\n                \"state\": \"SA\",\n                \"postcode\": \"5093\",\n                \"country\": \"Australia\",\n                \"regional_code\": \"Regional City SA\",\n                \"start_date\": \"18/10/2023\",\n                \"end_date\": \"16/05/2025\",\n                \"is_current\": true\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"addresses\": [\n        {\n            \"address_line_1\": \"\",\n            \"suburb\": \"\",\n            \"state\": \"\",\n            \"postcode\": \"\",\n            \"country\": \"\",\n            \"start_date\": \"invalid-date\",\n            \"end_date\": \"invalid-date\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-address-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-address-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"addresses.0.address_line_1\": [\n            \"The addresses.0.address_line_1 field is required.\"\n        ],\n        \"addresses.0.suburb\": [\n            \"The addresses.0.suburb field is required.\"\n        ],\n        \"addresses.0.state\": [\n            \"The addresses.0.state field is required.\"\n        ],\n        \"addresses.0.postcode\": [\n            \"The addresses.0.postcode field is required.\"\n        ],\n        \"addresses.0.country\": [\n            \"The addresses.0.country field is required.\"\n        ],\n        \"addresses.0.start_date\": [\n            \"The addresses.0.start_date must be in dd/mm/yyyy format.\"\n        ],\n        \"addresses.0.end_date\": [\n            \"The addresses.0.end_date must be in dd/mm/yyyy format.\"\n        ]\n    }\n}"
				},
				{
					"name": "End Date Before Start Date",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"addresses\": [\n        {\n            \"address_line_1\": \"Kelly Road\",\n            \"suburb\": \"Valley View\",\n            \"state\": \"SA\",\n            \"postcode\": \"5093\",\n            \"country\": \"Australia\",\n            \"start_date\": \"18/10/2023\",\n            \"end_date\": \"16/05/2022\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-address-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-address-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"addresses.0.end_date\": [\n            \"End date must be after or equal to start date.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-address-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-address-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-address-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-address-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "40. Update Client Travel Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"travels\": [\n        {\n            \"id\": 123,\n            \"country_visited\": \"India\",\n            \"arrival_date\": \"01/05/2024\",\n            \"departure_date\": \"30/06/2024\",\n            \"purpose\": \"Travel1\"\n        },\n        {\n            \"id\": null,\n            \"country_visited\": \"Australia\",\n            \"arrival_date\": \"01/01/2025\",\n            \"departure_date\": \"31/12/2025\",\n            \"purpose\": \"Business\"\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-travel-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-travel-detail"
					]
				},
				"description": "Update authenticated client's travel information. Travels are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each travel.\n- When updating an existing travel (with ID), the existing `meta_order` value is preserved.\n- When creating a new travel (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `travels` (required, array, min: 1)\n- `travels.*.id` (required, present, nullable, integer) - Use `null` for new travels or provide existing travel ID for updates\n- `travels.*.country_visited` (required, string, max: 255)\n- `travels.*.arrival_date` (optional, date_format: dd/mm/yyyy)\n- `travels.*.departure_date` (optional, date_format: dd/mm/yyyy)\n- `travels.*.purpose` (optional, string, max: 500)\n\n**Validation Rules:**\n- Departure date must be after or equal to arrival date\n\n**Response:**\n- For new travels (id: null), the response will include the generated `id` in the returned travel object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"travels\": [\n        {\n            \"id\": 123,\n            \"country_visited\": \"India\",\n            \"arrival_date\": \"01/05/2024\",\n            \"departure_date\": \"30/06/2024\",\n            \"purpose\": \"Travel1\"\n        },\n        {\n            \"id\": null,\n            \"country_visited\": \"United States\",\n            \"arrival_date\": \"01/01/2025\",\n            \"departure_date\": \"31/12/2025\",\n            \"purpose\": \"Business\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-travel-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-travel-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Travel details updated successfully\",\n    \"data\": {\n        \"travels\": [\n            {\n                \"id\": 123,\n                \"country_visited\": \"India\",\n                \"arrival_date\": \"01/05/2024\",\n                \"departure_date\": \"30/06/2024\",\n                \"purpose\": \"Travel1\"\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"travels\": [\n        {\n            \"country_visited\": \"\",\n            \"arrival_date\": \"invalid-date\",\n            \"departure_date\": \"invalid-date\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-travel-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-travel-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"travels.0.country_visited\": [\n            \"The travels.0.country_visited field is required.\"\n        ],\n        \"travels.0.arrival_date\": [\n            \"The travels.0.arrival_date must be in dd/mm/yyyy format.\"\n        ],\n        \"travels.0.departure_date\": [\n            \"The travels.0.departure_date must be in dd/mm/yyyy format.\"\n        ]\n    }\n}"
				},
				{
					"name": "Departure Date Before Arrival Date",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"travels\": [\n        {\n            \"id\": null,\n            \"country_visited\": \"India\",\n            \"arrival_date\": \"01/05/2024\",\n            \"departure_date\": \"30/04/2024\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-travel-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-travel-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"travels.0.departure_date\": [\n            \"Departure date must be after or equal to arrival date.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-travel-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-travel-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-travel-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-travel-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "41. Update Client Qualification Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"qualifications\": [\n        {\n            \"id\": 123,\n            \"level\": \"Masters Degree\",\n            \"name\": \"MCA\",\n            \"college_name\": \"BBDNITM\",\n            \"campus\": \"Lucknow\",\n            \"country\": \"India\",\n            \"state\": null,\n            \"start_date\": \"01/07/2006\",\n            \"finish_date\": \"30/06/2009\",\n            \"relevant_qualification\": true,\n            \"specialist_education\": false,\n            \"stem_qualification\": false,\n            \"regional_study\": false\n        },\n        {\n            \"id\": null,\n            \"level\": \"Bachelors Degree\",\n            \"name\": \"B.Tech\",\n            \"college_name\": \"ABC University\",\n            \"campus\": \"Delhi\",\n            \"country\": \"India\",\n            \"state\": null,\n            \"start_date\": \"01/07/2002\",\n            \"finish_date\": \"30/06/2006\",\n            \"relevant_qualification\": true,\n            \"specialist_education\": false,\n            \"stem_qualification\": true,\n            \"regional_study\": false\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-qualification-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-qualification-detail"
					]
				},
				"description": "Update authenticated client's qualification information. Qualifications are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each qualification.\n- When updating an existing qualification (with ID), the existing `meta_order` value is preserved.\n- When creating a new qualification (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `qualifications` (required, array, min: 1)\n- `qualifications.*.id` (required, present, nullable, integer) - Use `null` for new qualifications or provide existing qualification ID for updates\n- `qualifications.*.level` (optional, string, max: 255)\n- `qualifications.*.name` (optional, string, max: 255)\n- `qualifications.*.college_name` (optional, string, max: 255)\n- `qualifications.*.campus` (optional, string, max: 255)\n- `qualifications.*.country` (optional, string, max: 255)\n- `qualifications.*.state` (optional, string, max: 255)\n- `qualifications.*.start_date` (optional, date_format: dd/mm/yyyy)\n- `qualifications.*.finish_date` (optional, date_format: dd/mm/yyyy)\n- `qualifications.*.relevant_qualification` (optional, boolean)\n- `qualifications.*.specialist_education` (optional, boolean)\n- `qualifications.*.stem_qualification` (optional, boolean)\n- `qualifications.*.regional_study` (optional, boolean)\n\n**Validation Rules:**\n- At least `level` or `name` must be provided for each qualification\n- Finish date must be after or equal to start date\n\n**Response:**\n- For new qualifications (id: null), the response will include the generated `id` in the returned qualification object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"qualifications\": [\n        {\n            \"id\": 123,\n            \"level\": \"Masters Degree\",\n            \"name\": \"MCA\",\n            \"college_name\": \"BBDNITM\",\n            \"campus\": \"Lucknow\",\n            \"country\": \"India\",\n            \"state\": null,\n            \"start_date\": \"01/07/2006\",\n            \"finish_date\": \"30/06/2009\",\n            \"relevant_qualification\": true,\n            \"specialist_education\": false,\n            \"stem_qualification\": false,\n            \"regional_study\": false\n        },\n        {\n            \"id\": null,\n            \"level\": \"Bachelor Degree\",\n            \"name\": \"BSc\",\n            \"college_name\": \"University ABC\",\n            \"campus\": \"Sydney\",\n            \"country\": \"Australia\",\n            \"state\": \"NSW\",\n            \"start_date\": \"01/01/2010\",\n            \"finish_date\": \"31/12/2013\",\n            \"relevant_qualification\": true,\n            \"specialist_education\": false,\n            \"stem_qualification\": true,\n            \"regional_study\": false\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-qualification-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-qualification-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Qualification details updated successfully\",\n    \"data\": {\n        \"qualifications\": [\n            {\n                \"id\": 123,\n                \"level\": \"Masters Degree\",\n                \"name\": \"MCA\",\n                \"college_name\": \"BBDNITM\",\n                \"campus\": \"Lucknow\",\n                \"country\": \"India\",\n                \"state\": null,\n                \"start_date\": \"01/07/2006\",\n                \"finish_date\": \"30/06/2009\",\n                \"relevant_qualification\": true,\n                \"specialist_education\": false,\n                \"stem_qualification\": false,\n                \"regional_study\": false\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"qualifications\": [\n        {\n            \"id\": null,\n            \"start_date\": \"invalid-date\",\n            \"finish_date\": \"invalid-date\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-qualification-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-qualification-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"qualifications.0.start_date\": [\n            \"The qualifications.0.start_date must be in dd/mm/yyyy format.\"\n        ],\n        \"qualifications.0.finish_date\": [\n            \"The qualifications.0.finish_date must be in dd/mm/yyyy format.\"\n        ]\n    }\n}"
				},
				{
					"name": "Finish Date Before Start Date",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"qualifications\": [\n        {\n            \"level\": \"Masters Degree\",\n            \"name\": \"MCA\",\n            \"start_date\": \"01/07/2006\",\n            \"finish_date\": \"30/06/2005\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-qualification-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-qualification-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"qualifications.0.finish_date\": [\n            \"Finish date must be after or equal to start date.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-qualification-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-qualification-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-qualification-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-qualification-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "42. Update Client Experience Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"experiences\": [\n        {\n            \"id\": 123,\n            \"job_title\": \"Senior Software Engineer\",\n            \"job_code\": \"123456\",\n            \"employer_name\": \"Bansal Immigration\",\n            \"country\": \"India\",\n            \"state\": null,\n            \"job_type\": \"Full-time\",\n            \"start_date\": \"26/12/2024\",\n            \"finish_date\": \"26/12/2027\",\n            \"relevant_experience\": true,\n            \"fte_multiplier\": 1.0\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-experience-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-experience-detail"
					]
				},
				"description": "Update authenticated client's work experience information. Experiences are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each experience.\n- When updating an existing experience (with ID), the existing `meta_order` value is preserved.\n- When creating a new experience (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `experiences` (required, array, min: 1)\n- `experiences.*.id` (required, present, nullable, integer) - Use `null` for new experiences or provide existing experience ID for updates\n- `experiences.*.job_title` (required, string, max: 255)\n- `experiences.*.job_code` (optional, string, max: 255)\n- `experiences.*.employer_name` (optional, string, max: 255)\n- `experiences.*.country` (optional, string, max: 255)\n- `experiences.*.state` (optional, string, max: 255)\n- `experiences.*.job_type` (optional, string, max: 255)\n- `experiences.*.start_date` (optional, date_format: dd/mm/yyyy)\n- `experiences.*.finish_date` (optional, date_format: dd/mm/yyyy)\n- `experiences.*.relevant_experience` (optional, boolean)\n- `experiences.*.fte_multiplier` (optional, numeric, min: 0, max: 1)\n\n**Validation Rules:**\n- Finish date must be after or equal to start date\n\n**Response:**\n- For new experiences (id: null), the response will include the generated `id` in the returned experience object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"experiences\": [\n        {\n            \"id\": 123,\n            \"job_title\": \"Senior Software Engineer\",\n            \"job_code\": \"123456\",\n            \"employer_name\": \"Bansal Immigration\",\n            \"country\": \"India\",\n            \"state\": null,\n            \"job_type\": \"Full-time\",\n            \"start_date\": \"26/12/2024\",\n            \"finish_date\": \"26/12/2027\",\n            \"relevant_experience\": true,\n            \"fte_multiplier\": 1.0\n        },\n        {\n            \"id\": null,\n            \"job_title\": \"Software Developer\",\n            \"job_code\": \"789012\",\n            \"employer_name\": \"Tech Corp\",\n            \"country\": \"Australia\",\n            \"state\": \"VIC\",\n            \"job_type\": \"Full-time\",\n            \"start_date\": \"01/01/2020\",\n            \"finish_date\": \"31/12/2023\",\n            \"relevant_experience\": true,\n            \"fte_multiplier\": 1.0\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-experience-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-experience-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Experience details updated successfully\",\n    \"data\": {\n        \"experiences\": [\n            {\n                \"id\": 123,\n                \"job_title\": \"Senior Software Engineer\",\n                \"job_code\": \"123456\",\n                \"employer_name\": \"Bansal Immigration\",\n                \"country\": \"India\",\n                \"state\": null,\n                \"job_type\": \"Full-time\",\n                \"start_date\": \"26/12/2024\",\n                \"finish_date\": \"26/12/2027\",\n                \"relevant_experience\": true,\n                \"fte_multiplier\": 1.0\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"experiences\": [\n        {\n            \"job_title\": \"\",\n            \"start_date\": \"invalid-date\",\n            \"finish_date\": \"invalid-date\",\n            \"fte_multiplier\": 2.0\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-experience-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-experience-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"experiences.0.job_title\": [\n            \"The experiences.0.job_title field is required.\"\n        ],\n        \"experiences.0.start_date\": [\n            \"The experiences.0.start_date must be in dd/mm/yyyy format.\"\n        ],\n        \"experiences.0.finish_date\": [\n            \"The experiences.0.finish_date must be in dd/mm/yyyy format.\"\n        ],\n        \"experiences.0.fte_multiplier\": [\n            \"The experiences.0.fte_multiplier must be between 0 and 1.\"\n        ]\n    }\n}"
				},
				{
					"name": "Finish Date Before Start Date",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"experiences\": [\n        {\n            \"job_title\": \"Software Engineer\",\n            \"start_date\": \"26/12/2024\",\n            \"finish_date\": \"26/12/2023\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-experience-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-experience-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"experiences.0.finish_date\": [\n            \"Finish date must be after or equal to start date.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-experience-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-experience-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-experience-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-experience-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "43. Update Client Occupation Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"occupations\": [\n        {\n            \"id\": 123,\n            \"skill_assessment\": \"Yes\",\n            \"nominated_occupation\": \"Statistician\",\n            \"occupation_code\": \"224113\",\n            \"assessing_authority\": \"VETASSESS\",\n            \"visa_subclass\": null,\n            \"assessment_date\": \"17/10/2025\",\n            \"expiry_date\": \"19/10/2028\",\n            \"reference_no\": \"ref_2\",\n            \"relevant_occupation\": true,\n            \"anzsco_occupation_id\": null\n        },\n        {\n            \"id\": null,\n            \"skill_assessment\": \"Yes\",\n            \"nominated_occupation\": \"Software Engineer\",\n            \"occupation_code\": \"261313\",\n            \"assessing_authority\": \"ACS\",\n            \"visa_subclass\": null,\n            \"assessment_date\": \"01/01/2025\",\n            \"expiry_date\": \"31/12/2027\",\n            \"reference_no\": \"ref_3\",\n            \"relevant_occupation\": true,\n            \"anzsco_occupation_id\": 30\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-occupation-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-occupation-detail"
					]
				},
				"description": "Update authenticated client's occupation information. Occupations are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each occupation.\n- When updating an existing occupation (with ID), the existing `meta_order` value is preserved.\n- When creating a new occupation (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `occupations` (required, array, min: 1)\n- `occupations.*.id` (required, present, nullable, integer) - Use `null` for new occupations or provide existing occupation ID for updates\n- `occupations.*.skill_assessment` (optional, string, max: 255)\n- `occupations.*.nominated_occupation` (optional, string, max: 255)\n- `occupations.*.occupation_code` (optional, string, max: 255)\n- `occupations.*.assessing_authority` (optional, string, max: 255)\n- `occupations.*.visa_subclass` (optional, string, max: 255)\n- `occupations.*.assessment_date` (optional, date_format: dd/mm/yyyy)\n- `occupations.*.expiry_date` (optional, date_format: dd/mm/yyyy)\n- `occupations.*.reference_no` (optional, string, max: 255)\n- `occupations.*.relevant_occupation` (optional, boolean)\n- `occupations.*.anzsco_occupation_id` (optional, integer)\n\n**Validation Rules:**\n- At least `nominated_occupation` or `occupation_code` must be provided for each occupation\n- Expiry date must be after or equal to assessment date\n\n**Response:**\n- For new occupations (id: null), the response will include the generated `id` in the returned occupation object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"occupations\": [\n        {\n            \"id\": 123,\n            \"skill_assessment\": \"Yes\",\n            \"nominated_occupation\": \"Statistician\",\n            \"occupation_code\": \"224113\",\n            \"assessing_authority\": \"VETASSESS\",\n            \"visa_subclass\": null,\n            \"assessment_date\": \"17/10/2025\",\n            \"expiry_date\": \"19/10/2028\",\n            \"reference_no\": \"ref_2\",\n            \"relevant_occupation\": true,\n            \"anzsco_occupation_id\": null\n        },\n        {\n            \"id\": null,\n            \"skill_assessment\": \"Yes\",\n            \"nominated_occupation\": \"Software Engineer\",\n            \"occupation_code\": \"261313\",\n            \"assessing_authority\": \"ACS\",\n            \"visa_subclass\": \"189\",\n            \"assessment_date\": \"01/01/2025\",\n            \"expiry_date\": \"31/12/2027\",\n            \"reference_no\": \"ref_3\",\n            \"relevant_occupation\": true,\n            \"anzsco_occupation_id\": 12345\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-occupation-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-occupation-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Occupation details updated successfully\",\n    \"data\": {\n        \"occupations\": [\n            {\n                \"id\": 123,\n                \"skill_assessment\": \"Yes\",\n                \"nominated_occupation\": \"Statistician\",\n                \"occupation_code\": \"224113\",\n                \"assessing_authority\": \"VETASSESS\",\n                \"visa_subclass\": null,\n                \"assessment_date\": \"17/10/2025\",\n                \"expiry_date\": \"19/10/2028\",\n                \"reference_no\": \"ref_2\",\n                \"relevant_occupation\": true,\n                \"anzsco_occupation_id\": null\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"occupations\": [\n        {\n            \"assessment_date\": \"invalid-date\",\n            \"expiry_date\": \"invalid-date\",\n            \"anzsco_occupation_id\": \"not-a-number\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-occupation-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-occupation-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"occupations.0.assessment_date\": [\n            \"The occupations.0.assessment_date must be in dd/mm/yyyy format.\"\n        ],\n        \"occupations.0.expiry_date\": [\n            \"The occupations.0.expiry_date must be in dd/mm/yyyy format.\"\n        ],\n        \"occupations.0.anzsco_occupation_id\": [\n            \"The occupations.0.anzsco_occupation_id must be an integer.\"\n        ]\n    }\n}"
				},
				{
					"name": "Expiry Date Before Assessment Date",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"occupations\": [\n        {\n            \"id\": null,\n            \"nominated_occupation\": \"Statistician\",\n            \"occupation_code\": \"224113\",\n            \"assessment_date\": \"17/10/2025\",\n            \"expiry_date\": \"16/10/2025\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-occupation-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-occupation-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"occupations.0.expiry_date\": [\n            \"Expiry date must be after or equal to assessment date.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-occupation-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-occupation-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-occupation-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-occupation-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "44. Update Client Test Score Detail",
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"description": "Use token from login response"
					},
					{
						"key": "Accept",
						"value": "application/json"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"test_scores\": [\n        {\n            \"id\": 123,\n            \"test_type\": \"IELTS Academic\",\n            \"listening\": 8,\n            \"reading\": 8,\n            \"writing\": 8,\n            \"speaking\": 8,\n            \"overall_score\": 8,\n            \"test_date\": \"10/05/2025\",\n            \"reference_no\": \"ref_2\",\n            \"relevant_test\": true\n        },\n        {\n            \"id\": null,\n            \"test_type\": \"PTE Academic\",\n            \"listening\": 85.0,\n            \"reading\": 88.0,\n            \"writing\": 82.0,\n            \"speaking\": 87.0,\n            \"overall_score\": 85.5,\n            \"test_date\": \"15/06/2025\",\n            \"reference_no\": \"ref_3\",\n            \"relevant_test\": true\n        }\n    ]\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/update-client-testscore-detail",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"update-client-testscore-detail"
					]
				},
				"description": "Update authenticated client's English test score information. Test scores are saved to clientportal_details_audit table with meta_key, meta_order, meta_type, and action.\n\n**ID Field:**\n- The `id` field is **required** (must be present in the request, but can be `null`)\n- If `id` is `null` or empty  treated as a **new record** (action: 'create')\n  - A unique 10-digit timestamp-based ID will be generated and stored in `meta_type`\n  - The `action` will be set to 'create' for all related audit entries\n- If `id` has a value  treated as an **update** (action: 'update')\n  - The provided `id` will be stored in `meta_type`\n  - The `action` will be set to 'update' for all related audit entries\n\n**meta_order Uniqueness:**\n- The `meta_order` column ensures unique grouping of related audit entries for each test score.\n- When updating an existing test score (with ID), the existing `meta_order` value is preserved.\n- When creating a new test score (with `id: null`), a unique `meta_order` value is automatically assigned (incremented from the highest existing value).\n- The system ensures `meta_order` uniqueness by calculating the maximum value before any deletions and tracking reused values to prevent conflicts.\n\n**Request Parameters:**\n- `test_scores` (required, array, min: 1)\n- `test_scores.*.id` (required, present, nullable, integer) - Use `null` for new test scores or provide existing test score ID for updates\n- `test_scores.*.test_type` (required, string, max: 255)\n- `test_scores.*.listening` (optional, numeric, min: 0, max: 9)\n- `test_scores.*.reading` (optional, numeric, min: 0, max: 9)\n- `test_scores.*.writing` (optional, numeric, min: 0, max: 9)\n- `test_scores.*.speaking` (optional, numeric, min: 0, max: 9)\n- `test_scores.*.overall_score` (optional, numeric, min: 0, max: 9)\n- `test_scores.*.test_date` (optional, date_format: dd/mm/yyyy)\n- `test_scores.*.reference_no` (optional, string, max: 255)\n- `test_scores.*.relevant_test` (optional, boolean)\n\n**Response:**\n- For new test scores (id: null), the response will include the generated `id` in the returned test score object"
			},
			"response": [
				{
					"name": "Success Response",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"test_scores\": [\n        {\n            \"id\": 123,\n            \"test_type\": \"IELTS Academic\",\n            \"listening\": 8,\n            \"reading\": 8,\n            \"writing\": 8,\n            \"speaking\": 8,\n            \"overall_score\": 8,\n            \"test_date\": \"10/05/2025\",\n            \"reference_no\": \"ref_2\",\n            \"relevant_test\": true\n        },\n        {\n            \"id\": null,\n            \"test_type\": \"PTE Academic\",\n            \"listening\": 85,\n            \"reading\": 88,\n            \"writing\": 82,\n            \"speaking\": 90,\n            \"overall_score\": 86,\n            \"test_date\": \"15/06/2025\",\n            \"reference_no\": \"ref_3\",\n            \"relevant_test\": true\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-testscore-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-testscore-detail"
							]
						}
					},
					"status": "OK",
					"code": 200,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": true,\n    \"message\": \"Test score details updated successfully\",\n    \"data\": {\n        \"test_scores\": [\n            {\n                \"id\": 123,\n                \"test_type\": \"IELTS Academic\",\n                \"listening\": 8,\n                \"reading\": 8,\n                \"writing\": 8,\n                \"speaking\": 8,\n                \"overall_score\": 8,\n                \"test_date\": \"10/05/2025\",\n                \"reference_no\": \"ref_2\",\n                \"relevant_test\": true\n            }\n        ]\n    }\n}"
				},
				{
					"name": "Validation Error",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"test_scores\": [\n        {\n            \"id\": null,\n            \"test_type\": \"\",\n            \"listening\": 10,\n            \"reading\": -1,\n            \"test_date\": \"invalid-date\"\n        }\n    ]\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{base_url}}/update-client-testscore-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-testscore-detail"
							]
						}
					},
					"status": "Unprocessable Entity",
					"code": 422,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Validation failed\",\n    \"errors\": {\n        \"test_scores.0.test_type\": [\n            \"The test_scores.0.test_type field is required.\"\n        ],\n        \"test_scores.0.listening\": [\n            \"The test_scores.0.listening must be between 0 and 9.\"\n        ],\n        \"test_scores.0.reading\": [\n            \"The test_scores.0.reading must be between 0 and 9.\"\n        ],\n        \"test_scores.0.test_date\": [\n            \"The test_scores.0.test_date must be in dd/mm/yyyy format.\"\n        ]\n    }\n}"
				},
				{
					"name": "Access Denied (Not a Client)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{auth_token}}"
							},
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-testscore-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-testscore-detail"
							]
						}
					},
					"status": "Forbidden",
					"code": 403,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"success\": false,\n    \"message\": \"Access denied. This endpoint is only available for clients.\"\n}"
				},
				{
					"name": "Unauthorized (No Token)",
					"originalRequest": {
						"method": "POST",
						"header": [
							{
								"key": "Accept",
								"value": "application/json"
							},
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"url": {
							"raw": "{{base_url}}/update-client-testscore-detail",
							"host": [
								"{{base_url}}"
							],
							"path": [
								"update-client-testscore-detail"
							]
						}
					},
					"status": "Unauthorized",
					"code": 401,
					"_postman_previewlanguage": "json",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json"
						}
					],
					"cookie": [],
					"body": "{\n    \"message\": \"Unauthenticated.\"\n}"
				}
			]
		},
		{
			"name": "FCM - Register Token",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 201 || pm.response.code === 200) {",
							"    pm.test(\"Status code is success\", function () {",
							"        pm.response.to.have.status(201);",
							"    });",
							"    ",
							"    pm.test(\"Response has success field\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('success');",
							"        pm.expect(jsonData.success).to.be.true;",
							"    });",
							"    ",
							"    pm.test(\"Response contains device token data\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('data');",
							"        pm.expect(jsonData.data).to.have.property('id');",
							"        pm.expect(jsonData.data).to.have.property('user_id');",
							"    });",
							"} else {",
							"    pm.test(\"Check error response\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('success');",
							"        pm.expect(jsonData.success).to.be.false;",
							"    });",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"type": "text",
						"description": "Use token from login response"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"token\": \"{{fcm_token}}\",\n    \"client_id\": 1\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/fcm/register-token",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"fcm",
						"register-token"
					]
				},
				"description": "Register or update an FCM device token for push notifications.\n\n**Required Fields:**\n- `token`: FCM device token (string, max 500 chars)\n- `client_id`: User ID (integer, must exist in admins table)\n\n**Response:**\n- `201`: Token registered successfully\n- `200`: Token updated successfully\n- `422`: Validation error\n- `401`: Unauthorized"
			},
			"response": []
		},
		{
			"name": "FCM - Test Notification",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    pm.test(\"Status code is success\", function () {",
							"        pm.response.to.have.status(200);",
							"    });",
							"    ",
							"    pm.test(\"Response has success field\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('success');",
							"    });",
							"    ",
							"    pm.test(\"Check config status\", function () {",
							"        var jsonData = pm.response.json();",
							"        if (jsonData.success) {",
							"            pm.expect(jsonData).to.have.property('config_status');",
							"            pm.expect(jsonData.config_status).to.equal('working');",
							"        }",
							"    });",
							"} else {",
							"    pm.test(\"Check error response\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('config_status');",
							"        console.log(\"Config Status:\", jsonData.config_status);",
							"    });",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"type": "text",
						"description": "Use token from login response"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"title\": \"Test Notification\",\n    \"body\": \"This is a test notification from the FCM integration\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/fcm/test",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"fcm",
						"test"
					]
				},
				"description": "Send a test FCM notification to verify the integration is working.\n\nThis endpoint will:\n- Check if service account is configured\n- Check if service account file exists\n- Check if user has device tokens registered\n- Send a test notification\n- Return detailed status information\n\n**Optional Fields:**\n- `user_id`: Target user ID (defaults to authenticated user)\n- `title`: Notification title (default: \"Test Notification\")\n- `body`: Notification body (default: \"This is a test notification from the FCM integration\")\n\n**Response Status Codes:**\n- `200`: Notification sent successfully\n- `401`: Unauthorized\n- `403`: Permission denied\n- `404`: No device tokens found\n- `500`: Configuration or sending error\n\n**Config Status Values:**\n- `working`: Everything configured correctly\n- `file_not_found`: Service account file missing\n- `no_tokens`: No device tokens registered\n- `send_failed`: Configuration OK but sending failed\n- `error`: General error occurred"
			},
			"response": []
		},
		{
			"name": "FCM - Unregister Token",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    pm.test(\"Status code is success\", function () {",
							"        pm.response.to.have.status(200);",
							"    });",
							"    ",
							"    pm.test(\"Response has success field\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('success');",
							"        pm.expect(jsonData.success).to.be.true;",
							"    });",
							"} else {",
							"    pm.test(\"Check error response\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('success');",
							"        pm.expect(jsonData.success).to.be.false;",
							"    });",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"type": "text",
						"description": "Use token from login response"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"token\": \"{{fcm_token}}\"\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/fcm/unregister-token",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"fcm",
						"unregister-token"
					]
				},
				"description": "Unregister (deactivate) an FCM device token.\n\n**Required Fields:**\n- `token`: FCM device token to unregister\n\n**Response:**\n- `200`: Token unregistered successfully\n- `404`: Token not found\n- `401`: Unauthorized\n- `422`: Validation error\n\n**Note:** The token is deactivated (not deleted) for audit purposes."
			},
			"response": []
		},
		{
			"name": "FCM - Send Message",
			"event": [
				{
					"listen": "test",
					"script": {
						"exec": [
							"if (pm.response.code === 200) {",
							"    pm.test(\"Status code is success\", function () {",
							"        pm.response.to.have.status(200);",
							"    });",
							"    ",
							"    pm.test(\"Response has success field\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('success');",
							"        pm.expect(jsonData.success).to.be.true;",
							"    });",
							"    ",
							"    pm.test(\"Response contains sent_at timestamp\", function () {",
							"        var jsonData = pm.response.json();",
							"        if (jsonData.success && jsonData.data) {",
							"            pm.expect(jsonData.data).to.have.property('sent_at');",
							"        }",
							"    });",
							"} else {",
							"    pm.test(\"Check error response\", function () {",
							"        var jsonData = pm.response.json();",
							"        pm.expect(jsonData).to.have.property('success');",
							"        pm.expect(jsonData.success).to.be.false;",
							"    });",
							"}"
						],
						"type": "text/javascript"
					}
				}
			],
			"request": {
				"method": "POST",
				"header": [
					{
						"key": "Authorization",
						"value": "Bearer {{auth_token}}",
						"type": "text",
						"description": "Use token from login response"
					},
					{
						"key": "Content-Type",
						"value": "application/json"
					},
					{
						"key": "Accept",
						"value": "application/json"
					}
				],
				"body": {
					"mode": "raw",
					"raw": "{\n    \"message\": {\n        \"token\": \"{{fcm_token}}\",\n        \"data\": {\n            \"title\": \"Test Title\",\n            \"body\": \"Test notification\",\n            \"type\": \"chat\",\n            \"userId\": \"123\"\n        }\n    }\n}",
					"options": {
						"raw": {
							"language": "json"
						}
					}
				},
				"url": {
					"raw": "{{base_url}}/fcm/send-message",
					"host": [
						"{{base_url}}"
					],
					"path": [
						"fcm",
						"send-message"
					]
				},
				"description": "Send a push notification message to a specific device token.\n\n**Required Fields:**\n- `message`: Object containing message data\n  - `message.token`: FCM device token (string, max 500 chars)\n  - `message.data`: Object containing notification data\n    - `message.data.title`: Notification title (string, max 255 chars)\n    - `message.data.body`: Notification body (string)\n\n**Optional Fields in message.data:**\n- `type`: Message type (e.g., \"chat\", \"notification\", etc.)\n- `userId`: User ID associated with the message\n- Any other custom data fields\n\n**Response:**\n- `200`: Notification sent successfully\n- `422`: Validation error\n- `401`: Unauthorized\n- `500`: Failed to send notification (check logs for details)\n\n**Example Request:**\n```json\n{\n  \"message\": {\n    \"token\": \"fcm_device_token_here\",\n    \"data\": {\n      \"title\": \"New Message\",\n      \"body\": \"You have a new message\",\n      \"type\": \"chat\",\n      \"userId\": \"123\"\n    }\n  }\n}\n```"
			},
			"response": []
		}
	],
	"event": [
		{
			"listen": "prerequest",
			"script": {
				"type": "text/javascript",
				"exec": [
					""
				]
			}
		},
		{
			"listen": "test",
			"script": {
				"type": "text/javascript",
				"exec": [
					"// Global test script for token management",
					"if (pm.response.code === 401 && pm.response.json().message === 'Unauthenticated.') {",
					"    console.log('Access token expired, attempting to refresh...');",
					"    ",
					"    const refreshToken = pm.collectionVariables.get('refresh_token');",
					"    if (refreshToken) {",
					"        pm.sendRequest({",
					"            url: pm.collectionVariables.get('base_url') + '/refresh',",
					"            method: 'POST',",
					"            header: {",
					"                'Content-Type': 'application/json'",
					"            },",
					"            body: {",
					"                mode: 'raw',",
					"                raw: JSON.stringify({ refresh_token: refreshToken })",
					"            }",
					"        }, function (err, response) {",
					"            if (response && response.json().success) {",
					"                const newTokens = response.json().data;",
					"                pm.collectionVariables.set('auth_token', newTokens.token);",
					"                pm.collectionVariables.set('refresh_token', newTokens.refresh_token);",
					"                console.log('Tokens refreshed successfully');",
					"            } else {",
					"                console.log('Token refresh failed, please login again');",
					"            }",
					"        });",
					"    }",
					"}"
				]
			}
		}
	],
	"variable": [
		{
			"key": "base_url",
			"value": "http://127.0.0.1:8000/api",
			"type": "string"
		},
		{
			"key": "auth_token",
			"value": "",
			"type": "string",
			"description": "Authentication token from login response"
		},
		{
			"key": "refresh_token",
			"value": "",
			"type": "string",
			"description": "Refresh token from login response"
		},
		{
			"key": "message_id",
			"value": "",
			"type": "string",
			"description": "Message ID (auto-populated from send message response)"
		},
		{
			"key": "fcm_token",
			"value": "",
			"type": "string",
			"description": "FCM device token for push notifications"
		}
	]
}